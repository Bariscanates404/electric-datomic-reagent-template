["^ ","~:output",["^ ","~:js","goog.provide('hyperfiddle.history');\n\n/**\n * @interface\n */\nhyperfiddle.history.IHistory = function(){};\n\nvar hyperfiddle$history$IHistory$navigate_BANG_$dyn_35660 = (function (this$,route){\nvar x__5393__auto__ = (((this$ == null))?null:this$);\nvar m__5394__auto__ = (hyperfiddle.history.navigate_BANG_[goog.typeOf(x__5393__auto__)]);\nif((!((m__5394__auto__ == null)))){\nreturn (m__5394__auto__.cljs$core$IFn$_invoke$arity$2 ? m__5394__auto__.cljs$core$IFn$_invoke$arity$2(this$,route) : m__5394__auto__.call(null,this$,route));\n} else {\nvar m__5392__auto__ = (hyperfiddle.history.navigate_BANG_[\"_\"]);\nif((!((m__5392__auto__ == null)))){\nreturn (m__5392__auto__.cljs$core$IFn$_invoke$arity$2 ? m__5392__auto__.cljs$core$IFn$_invoke$arity$2(this$,route) : m__5392__auto__.call(null,this$,route));\n} else {\nthrow cljs.core.missing_protocol(\"IHistory.navigate!\",this$);\n}\n}\n});\nhyperfiddle.history.navigate_BANG_ = (function hyperfiddle$history$navigate_BANG_(this$,route){\nif((((!((this$ == null)))) && ((!((this$.hyperfiddle$history$IHistory$navigate_BANG_$arity$2 == null)))))){\nreturn this$.hyperfiddle$history$IHistory$navigate_BANG_$arity$2(this$,route);\n} else {\nreturn hyperfiddle$history$IHistory$navigate_BANG_$dyn_35660(this$,route);\n}\n});\n\nvar hyperfiddle$history$IHistory$back_BANG_$dyn_35661 = (function (this$){\nvar x__5393__auto__ = (((this$ == null))?null:this$);\nvar m__5394__auto__ = (hyperfiddle.history.back_BANG_[goog.typeOf(x__5393__auto__)]);\nif((!((m__5394__auto__ == null)))){\nreturn (m__5394__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5394__auto__.cljs$core$IFn$_invoke$arity$1(this$) : m__5394__auto__.call(null,this$));\n} else {\nvar m__5392__auto__ = (hyperfiddle.history.back_BANG_[\"_\"]);\nif((!((m__5392__auto__ == null)))){\nreturn (m__5392__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5392__auto__.cljs$core$IFn$_invoke$arity$1(this$) : m__5392__auto__.call(null,this$));\n} else {\nthrow cljs.core.missing_protocol(\"IHistory.back!\",this$);\n}\n}\n});\nhyperfiddle.history.back_BANG_ = (function hyperfiddle$history$back_BANG_(this$){\nif((((!((this$ == null)))) && ((!((this$.hyperfiddle$history$IHistory$back_BANG_$arity$1 == null)))))){\nreturn this$.hyperfiddle$history$IHistory$back_BANG_$arity$1(this$);\n} else {\nreturn hyperfiddle$history$IHistory$back_BANG_$dyn_35661(this$);\n}\n});\n\nvar hyperfiddle$history$IHistory$forward_BANG_$dyn_35662 = (function (this$){\nvar x__5393__auto__ = (((this$ == null))?null:this$);\nvar m__5394__auto__ = (hyperfiddle.history.forward_BANG_[goog.typeOf(x__5393__auto__)]);\nif((!((m__5394__auto__ == null)))){\nreturn (m__5394__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5394__auto__.cljs$core$IFn$_invoke$arity$1(this$) : m__5394__auto__.call(null,this$));\n} else {\nvar m__5392__auto__ = (hyperfiddle.history.forward_BANG_[\"_\"]);\nif((!((m__5392__auto__ == null)))){\nreturn (m__5392__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5392__auto__.cljs$core$IFn$_invoke$arity$1(this$) : m__5392__auto__.call(null,this$));\n} else {\nthrow cljs.core.missing_protocol(\"IHistory.forward!\",this$);\n}\n}\n});\nhyperfiddle.history.forward_BANG_ = (function hyperfiddle$history$forward_BANG_(this$){\nif((((!((this$ == null)))) && ((!((this$.hyperfiddle$history$IHistory$forward_BANG_$arity$1 == null)))))){\nreturn this$.hyperfiddle$history$IHistory$forward_BANG_$arity$1(this$);\n} else {\nreturn hyperfiddle$history$IHistory$forward_BANG_$dyn_35662(this$);\n}\n});\n\nvar hyperfiddle$history$IHistory$replace_state_BANG_$dyn_35663 = (function (this$,new_state){\nvar x__5393__auto__ = (((this$ == null))?null:this$);\nvar m__5394__auto__ = (hyperfiddle.history.replace_state_BANG_[goog.typeOf(x__5393__auto__)]);\nif((!((m__5394__auto__ == null)))){\nreturn (m__5394__auto__.cljs$core$IFn$_invoke$arity$2 ? m__5394__auto__.cljs$core$IFn$_invoke$arity$2(this$,new_state) : m__5394__auto__.call(null,this$,new_state));\n} else {\nvar m__5392__auto__ = (hyperfiddle.history.replace_state_BANG_[\"_\"]);\nif((!((m__5392__auto__ == null)))){\nreturn (m__5392__auto__.cljs$core$IFn$_invoke$arity$2 ? m__5392__auto__.cljs$core$IFn$_invoke$arity$2(this$,new_state) : m__5392__auto__.call(null,this$,new_state));\n} else {\nthrow cljs.core.missing_protocol(\"IHistory.replace-state!\",this$);\n}\n}\n});\nhyperfiddle.history.replace_state_BANG_ = (function hyperfiddle$history$replace_state_BANG_(this$,new_state){\nif((((!((this$ == null)))) && ((!((this$.hyperfiddle$history$IHistory$replace_state_BANG_$arity$2 == null)))))){\nreturn this$.hyperfiddle$history$IHistory$replace_state_BANG_$arity$2(this$,new_state);\n} else {\nreturn hyperfiddle$history$IHistory$replace_state_BANG_$dyn_35663(this$,new_state);\n}\n});\n\nhyperfiddle.history.updatef = (function hyperfiddle$history$updatef(p__35532,f){\nvar vec__35533 = p__35532;\nvar history__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35533,(0),null);\nvar idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35533,(1),null);\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.update.cljs$core$IFn$_invoke$arity$3(history__$1,idx,f),idx], null);\n});\nhyperfiddle.history.notify_watches = (function hyperfiddle$history$notify_watches(this$,p__35539){\nvar vec__35540 = p__35539;\nvar oldstate = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35540,(0),null);\nvar newstate = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35540,(1),null);\nvar oldval = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.get,oldstate);\nvar newval = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.get,newstate);\nvar seq__35543 = cljs.core.seq(cljs.core.deref(new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535).cljs$core$IFn$_invoke$arity$1(this$)));\nvar chunk__35544 = null;\nvar count__35545 = (0);\nvar i__35546 = (0);\nwhile(true){\nif((i__35546 < count__35545)){\nvar vec__35553 = chunk__35544.cljs$core$IIndexed$_nth$arity$2(null,i__35546);\nvar key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35553,(0),null);\nvar callback = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35553,(1),null);\n(callback.cljs$core$IFn$_invoke$arity$4 ? callback.cljs$core$IFn$_invoke$arity$4(key,this$,oldval,newval) : callback.call(null,key,this$,oldval,newval));\n\n\nvar G__35664 = seq__35543;\nvar G__35665 = chunk__35544;\nvar G__35666 = count__35545;\nvar G__35667 = (i__35546 + (1));\nseq__35543 = G__35664;\nchunk__35544 = G__35665;\ncount__35545 = G__35666;\ni__35546 = G__35667;\ncontinue;\n} else {\nvar temp__5804__auto__ = cljs.core.seq(seq__35543);\nif(temp__5804__auto__){\nvar seq__35543__$1 = temp__5804__auto__;\nif(cljs.core.chunked_seq_QMARK_(seq__35543__$1)){\nvar c__5568__auto__ = cljs.core.chunk_first(seq__35543__$1);\nvar G__35668 = cljs.core.chunk_rest(seq__35543__$1);\nvar G__35669 = c__5568__auto__;\nvar G__35670 = cljs.core.count(c__5568__auto__);\nvar G__35671 = (0);\nseq__35543 = G__35668;\nchunk__35544 = G__35669;\ncount__35545 = G__35670;\ni__35546 = G__35671;\ncontinue;\n} else {\nvar vec__35556 = cljs.core.first(seq__35543__$1);\nvar key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35556,(0),null);\nvar callback = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35556,(1),null);\n(callback.cljs$core$IFn$_invoke$arity$4 ? callback.cljs$core$IFn$_invoke$arity$4(key,this$,oldval,newval) : callback.call(null,key,this$,oldval,newval));\n\n\nvar G__35672 = cljs.core.next(seq__35543__$1);\nvar G__35673 = null;\nvar G__35674 = (0);\nvar G__35675 = (0);\nseq__35543 = G__35672;\nchunk__35544 = G__35673;\ncount__35545 = G__35674;\ni__35546 = G__35675;\ncontinue;\n}\n} else {\nreturn null;\n}\n}\nbreak;\n}\n});\n\n/**\n* @constructor\n * @implements {cljs.core.IRecord}\n * @implements {cljs.core.IWatchable}\n * @implements {cljs.core.IAtom}\n * @implements {cljs.core.IKVReduce}\n * @implements {cljs.core.IEquiv}\n * @implements {cljs.core.IHash}\n * @implements {cljs.core.ICollection}\n * @implements {cljs.core.IReset}\n * @implements {cljs.core.ISwap}\n * @implements {cljs.core.ICounted}\n * @implements {cljs.core.ISeqable}\n * @implements {cljs.core.IMeta}\n * @implements {cljs.core.ICloneable}\n * @implements {cljs.core.IDeref}\n * @implements {cljs.core.IPrintWithWriter}\n * @implements {cljs.core.IIterable}\n * @implements {cljs.core.IWithMeta}\n * @implements {cljs.core.IAssociative}\n * @implements {cljs.core.IMap}\n * @implements {cljs.core.ILookup}\n*/\nhyperfiddle.history.AtomHistory = (function (state,watches,max_size,__meta,__extmap,__hash){\nthis.state = state;\nthis.watches = watches;\nthis.max_size = max_size;\nthis.__meta = __meta;\nthis.__extmap = __extmap;\nthis.__hash = __hash;\nthis.cljs$lang$protocol_mask$partition0$ = 2230748938;\nthis.cljs$lang$protocol_mask$partition1$ = 253954;\n});\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ILookup$_lookup$arity$2 = (function (this__5343__auto__,k__5344__auto__){\nvar self__ = this;\nvar this__5343__auto____$1 = this;\nreturn this__5343__auto____$1.cljs$core$ILookup$_lookup$arity$3(null,k__5344__auto__,null);\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ILookup$_lookup$arity$3 = (function (this__5345__auto__,k35563,else__5346__auto__){\nvar self__ = this;\nvar this__5345__auto____$1 = this;\nvar G__35567 = k35563;\nvar G__35567__$1 = (((G__35567 instanceof cljs.core.Keyword))?G__35567.fqn:null);\nswitch (G__35567__$1) {\ncase \"state\":\nreturn self__.state;\n\nbreak;\ncase \"watches\":\nreturn self__.watches;\n\nbreak;\ncase \"max-size\":\nreturn self__.max_size;\n\nbreak;\ndefault:\nreturn cljs.core.get.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k35563,else__5346__auto__);\n\n}\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = (function (this__5363__auto__,f__5364__auto__,init__5365__auto__){\nvar self__ = this;\nvar this__5363__auto____$1 = this;\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (ret__5366__auto__,p__35568){\nvar vec__35569 = p__35568;\nvar k__5367__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35569,(0),null);\nvar v__5368__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35569,(1),null);\nreturn (f__5364__auto__.cljs$core$IFn$_invoke$arity$3 ? f__5364__auto__.cljs$core$IFn$_invoke$arity$3(ret__5366__auto__,k__5367__auto__,v__5368__auto__) : f__5364__auto__.call(null,ret__5366__auto__,k__5367__auto__,v__5368__auto__));\n}),init__5365__auto__,this__5363__auto____$1);\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = (function (this__5358__auto__,writer__5359__auto__,opts__5360__auto__){\nvar self__ = this;\nvar this__5358__auto____$1 = this;\nvar pr_pair__5361__auto__ = (function (keyval__5362__auto__){\nreturn cljs.core.pr_sequential_writer(writer__5359__auto__,cljs.core.pr_writer,\"\",\" \",\"\",opts__5360__auto__,keyval__5362__auto__);\n});\nreturn cljs.core.pr_sequential_writer(writer__5359__auto__,pr_pair__5361__auto__,\"#hyperfiddle.history.AtomHistory{\",\", \",\"}\",opts__5360__auto__,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),self__.state],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535),self__.watches],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"max-size\",\"max-size\",-874966132),self__.max_size],null))], null),self__.__extmap));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IIterable$_iterator$arity$1 = (function (G__35562){\nvar self__ = this;\nvar G__35562__$1 = this;\nreturn (new cljs.core.RecordIter((0),G__35562__$1,3,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535),new cljs.core.Keyword(null,\"max-size\",\"max-size\",-874966132)], null),(cljs.core.truth_(self__.__extmap)?cljs.core._iterator(self__.__extmap):cljs.core.nil_iter())));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IMeta$_meta$arity$1 = (function (this__5341__auto__){\nvar self__ = this;\nvar this__5341__auto____$1 = this;\nreturn self__.__meta;\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ICloneable$_clone$arity$1 = (function (this__5338__auto__){\nvar self__ = this;\nvar this__5338__auto____$1 = this;\nreturn (new hyperfiddle.history.AtomHistory(self__.state,self__.watches,self__.max_size,self__.__meta,self__.__extmap,self__.__hash));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ICounted$_count$arity$1 = (function (this__5347__auto__){\nvar self__ = this;\nvar this__5347__auto____$1 = this;\nreturn (3 + cljs.core.count(self__.__extmap));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IHash$_hash$arity$1 = (function (this__5339__auto__){\nvar self__ = this;\nvar this__5339__auto____$1 = this;\nvar h__5154__auto__ = self__.__hash;\nif((!((h__5154__auto__ == null)))){\nreturn h__5154__auto__;\n} else {\nvar h__5154__auto____$1 = (function (coll__5340__auto__){\nreturn (-275901300 ^ cljs.core.hash_unordered_coll(coll__5340__auto__));\n})(this__5339__auto____$1);\n(self__.__hash = h__5154__auto____$1);\n\nreturn h__5154__auto____$1;\n}\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IEquiv$_equiv$arity$2 = (function (this35564,other35565){\nvar self__ = this;\nvar this35564__$1 = this;\nreturn (((!((other35565 == null)))) && ((((this35564__$1.constructor === other35565.constructor)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35564__$1.state,other35565.state)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35564__$1.watches,other35565.watches)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35564__$1.max_size,other35565.max_size)) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35564__$1.__extmap,other35565.__extmap)))))))))));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IReset$_reset_BANG_$arity$2 = (function (this$,newval){\nvar self__ = this;\nvar this$__$1 = this;\nreturn this$__$1.cljs$core$ISwap$_swap_BANG_$arity$2(null,cljs.core.constantly(newval));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ISwap$_swap_BANG_$arity$2 = (function (this$,f){\nvar self__ = this;\nvar this$__$1 = this;\nreturn hyperfiddle.history.notify_watches(this$__$1,cljs.core.swap_vals_BANG_.cljs$core$IFn$_invoke$arity$3(self__.state,hyperfiddle.history.updatef,f));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ISwap$_swap_BANG_$arity$3 = (function (this$,f,arg){\nvar self__ = this;\nvar this$__$1 = this;\nreturn this$__$1.cljs$core$ISwap$_swap_BANG_$arity$2(null,(function (p1__35559_SHARP_){\nreturn (f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(p1__35559_SHARP_,arg) : f.call(null,p1__35559_SHARP_,arg));\n}));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ISwap$_swap_BANG_$arity$4 = (function (this$,f,arg1,arg2){\nvar self__ = this;\nvar this$__$1 = this;\nreturn this$__$1.cljs$core$ISwap$_swap_BANG_$arity$2(null,(function (p1__35560_SHARP_){\nreturn (f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(p1__35560_SHARP_,arg1,arg2) : f.call(null,p1__35560_SHARP_,arg1,arg2));\n}));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ISwap$_swap_BANG_$arity$5 = (function (this$,f,x,y,args){\nvar self__ = this;\nvar this$__$1 = this;\nreturn this$__$1.cljs$core$ISwap$_swap_BANG_$arity$2(null,(function (p1__35561_SHARP_){\nreturn cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,p1__35561_SHARP_,x,y,args);\n}));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IMap$_dissoc$arity$2 = (function (this__5353__auto__,k__5354__auto__){\nvar self__ = this;\nvar this__5353__auto____$1 = this;\nif(cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535),null,new cljs.core.Keyword(null,\"max-size\",\"max-size\",-874966132),null,new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),null], null), null),k__5354__auto__)){\nreturn cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core._with_meta(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,this__5353__auto____$1),self__.__meta),k__5354__auto__);\n} else {\nreturn (new hyperfiddle.history.AtomHistory(self__.state,self__.watches,self__.max_size,self__.__meta,cljs.core.not_empty(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.__extmap,k__5354__auto__)),null));\n}\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = (function (this__5350__auto__,k35563){\nvar self__ = this;\nvar this__5350__auto____$1 = this;\nvar G__35572 = k35563;\nvar G__35572__$1 = (((G__35572 instanceof cljs.core.Keyword))?G__35572.fqn:null);\nswitch (G__35572__$1) {\ncase \"state\":\ncase \"watches\":\ncase \"max-size\":\nreturn true;\n\nbreak;\ndefault:\nreturn cljs.core.contains_QMARK_(self__.__extmap,k35563);\n\n}\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IAssociative$_assoc$arity$3 = (function (this__5351__auto__,k__5352__auto__,G__35562){\nvar self__ = this;\nvar this__5351__auto____$1 = this;\nvar pred__35573 = cljs.core.keyword_identical_QMARK_;\nvar expr__35574 = k__5352__auto__;\nif(cljs.core.truth_((pred__35573.cljs$core$IFn$_invoke$arity$2 ? pred__35573.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),expr__35574) : pred__35573.call(null,new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),expr__35574)))){\nreturn (new hyperfiddle.history.AtomHistory(G__35562,self__.watches,self__.max_size,self__.__meta,self__.__extmap,null));\n} else {\nif(cljs.core.truth_((pred__35573.cljs$core$IFn$_invoke$arity$2 ? pred__35573.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535),expr__35574) : pred__35573.call(null,new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535),expr__35574)))){\nreturn (new hyperfiddle.history.AtomHistory(self__.state,G__35562,self__.max_size,self__.__meta,self__.__extmap,null));\n} else {\nif(cljs.core.truth_((pred__35573.cljs$core$IFn$_invoke$arity$2 ? pred__35573.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"max-size\",\"max-size\",-874966132),expr__35574) : pred__35573.call(null,new cljs.core.Keyword(null,\"max-size\",\"max-size\",-874966132),expr__35574)))){\nreturn (new hyperfiddle.history.AtomHistory(self__.state,self__.watches,G__35562,self__.__meta,self__.__extmap,null));\n} else {\nreturn (new hyperfiddle.history.AtomHistory(self__.state,self__.watches,self__.max_size,self__.__meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k__5352__auto__,G__35562),null));\n}\n}\n}\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ISeqable$_seq$arity$1 = (function (this__5356__auto__){\nvar self__ = this;\nvar this__5356__auto____$1 = this;\nreturn cljs.core.seq(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),self__.state,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535),self__.watches,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"max-size\",\"max-size\",-874966132),self__.max_size,null))], null),self__.__extmap));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IWatchable$_add_watch$arity$3 = (function (this$,key,callback){\nvar self__ = this;\nvar this$__$1 = this;\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(self__.watches,cljs.core.assoc,key,callback);\n\nreturn this$__$1;\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IWatchable$_remove_watch$arity$2 = (function (_,key){\nvar self__ = this;\nvar ___$1 = this;\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(self__.watches,cljs.core.dissoc,key);\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (this__5342__auto__,G__35562){\nvar self__ = this;\nvar this__5342__auto____$1 = this;\nreturn (new hyperfiddle.history.AtomHistory(self__.state,self__.watches,self__.max_size,G__35562,self__.__extmap,self__.__hash));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$ICollection$_conj$arity$2 = (function (this__5348__auto__,entry__5349__auto__){\nvar self__ = this;\nvar this__5348__auto____$1 = this;\nif(cljs.core.vector_QMARK_(entry__5349__auto__)){\nreturn this__5348__auto____$1.cljs$core$IAssociative$_assoc$arity$3(null,cljs.core._nth(entry__5349__auto__,(0)),cljs.core._nth(entry__5349__auto__,(1)));\n} else {\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,this__5348__auto____$1,entry__5349__auto__);\n}\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.cljs$core$IDeref$_deref$arity$1 = (function (_){\nvar self__ = this;\nvar ___$1 = this;\nvar vec__35576 = cljs.core.deref(self__.state);\nvar history__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35576,(0),null);\nvar idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35576,(1),null);\nreturn cljs.core.get.cljs$core$IFn$_invoke$arity$2(history__$1,idx);\n}));\n\n(hyperfiddle.history.AtomHistory.getBasis = (function (){\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"state\",\"state\",-348086572,null),new cljs.core.Symbol(null,\"watches\",\"watches\",1367433992,null),new cljs.core.Symbol(null,\"max-size\",\"max-size\",765565395,null)], null);\n}));\n\n(hyperfiddle.history.AtomHistory.cljs$lang$type = true);\n\n(hyperfiddle.history.AtomHistory.cljs$lang$ctorPrSeq = (function (this__5389__auto__){\nreturn (new cljs.core.List(null,\"hyperfiddle.history/AtomHistory\",null,(1),null));\n}));\n\n(hyperfiddle.history.AtomHistory.cljs$lang$ctorPrWriter = (function (this__5389__auto__,writer__5390__auto__){\nreturn cljs.core._write(writer__5390__auto__,\"hyperfiddle.history/AtomHistory\");\n}));\n\n/**\n * Positional factory function for hyperfiddle.history/AtomHistory.\n */\nhyperfiddle.history.__GT_AtomHistory = (function hyperfiddle$history$__GT_AtomHistory(state,watches,max_size){\nreturn (new hyperfiddle.history.AtomHistory(state,watches,max_size,null,null,null));\n});\n\n/**\n * Factory function for hyperfiddle.history/AtomHistory, taking a map of keywords to field values.\n */\nhyperfiddle.history.map__GT_AtomHistory = (function hyperfiddle$history$map__GT_AtomHistory(G__35566){\nvar extmap__5385__auto__ = (function (){var G__35579 = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__35566,new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535),new cljs.core.Keyword(null,\"max-size\",\"max-size\",-874966132)], 0));\nif(cljs.core.record_QMARK_(G__35566)){\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,G__35579);\n} else {\nreturn G__35579;\n}\n})();\nreturn (new hyperfiddle.history.AtomHistory(new cljs.core.Keyword(null,\"state\",\"state\",-1988618099).cljs$core$IFn$_invoke$arity$1(G__35566),new cljs.core.Keyword(null,\"watches\",\"watches\",-273097535).cljs$core$IFn$_invoke$arity$1(G__35566),new cljs.core.Keyword(null,\"max-size\",\"max-size\",-874966132).cljs$core$IFn$_invoke$arity$1(G__35566),null,cljs.core.not_empty(extmap__5385__auto__),null));\n});\n\n(hyperfiddle.history.AtomHistory.prototype.hyperfiddle$history$IHistory$ = cljs.core.PROTOCOL_SENTINEL);\n\n(hyperfiddle.history.AtomHistory.prototype.hyperfiddle$history$IHistory$navigate_BANG_$arity$2 = (function (this$,route){\nvar this$__$1 = this;\nreturn hyperfiddle.history.notify_watches(this$__$1,cljs.core.swap_vals_BANG_.cljs$core$IFn$_invoke$arity$2(this$__$1.state,(function (p__35580){\nvar vec__35581 = p__35580;\nvar history__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35581,(0),null);\nvar idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35581,(1),null);\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.count(history__$1),this$__$1.max_size)){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.subvec.cljs$core$IFn$_invoke$arity$2(history__$1,(1)),route),idx], null);\n} else {\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(history__$1,(0),(idx + (1))),route),(idx + (1))], null);\n}\n})));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.hyperfiddle$history$IHistory$back_BANG_$arity$1 = (function (this$){\nvar this$__$1 = this;\nreturn hyperfiddle.history.notify_watches(this$__$1,cljs.core.swap_vals_BANG_.cljs$core$IFn$_invoke$arity$2(this$__$1.state,(function (p__35584){\nvar vec__35585 = p__35584;\nvar history__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35585,(0),null);\nvar idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35585,(1),null);\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [history__$1,(function (){var x__5130__auto__ = (idx - (1));\nvar y__5131__auto__ = (0);\nreturn ((x__5130__auto__ > y__5131__auto__) ? x__5130__auto__ : y__5131__auto__);\n})()], null);\n})));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.hyperfiddle$history$IHistory$forward_BANG_$arity$1 = (function (this$){\nvar this$__$1 = this;\nreturn hyperfiddle.history.notify_watches(this$__$1,cljs.core.swap_vals_BANG_.cljs$core$IFn$_invoke$arity$2(this$__$1.state,(function (p__35588){\nvar vec__35589 = p__35588;\nvar history__$1 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35589,(0),null);\nvar idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35589,(1),null);\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [history__$1,(function (){var x__5133__auto__ = (idx + (1));\nvar y__5134__auto__ = (cljs.core.count(history__$1) - (1));\nreturn ((x__5133__auto__ < y__5134__auto__) ? x__5133__auto__ : y__5134__auto__);\n})()], null);\n})));\n}));\n\n(hyperfiddle.history.AtomHistory.prototype.hyperfiddle$history$IHistory$replace_state_BANG_$arity$2 = (function (this$,new_state){\nvar this$__$1 = this;\nreturn cljs.core.reset_BANG_(this$__$1,new_state);\n}));\n/**\n * Return a new IHistory instance backed by an atom.\n *   Initial history state can be provided with `initial-state`.\n *   Default history size is unbounded and can be constrained to `max-size` elements in a FIFO way.\n *   A negative value or 0 has no effect.\n */\nhyperfiddle.history.atom_history = (function hyperfiddle$history$atom_history(var_args){\nvar G__35593 = arguments.length;\nswitch (G__35593) {\ncase 0:\nreturn hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$0();\n\nbreak;\ncase 1:\nreturn hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ncase 2:\nreturn hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\n(hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$0 = (function (){\nreturn hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$2(null,(0));\n}));\n\n(hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$1 = (function (initial_state){\nreturn hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$2(initial_state,(0));\n}));\n\n(hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$2 = (function (initial_state,max_size){\nreturn hyperfiddle.history.__GT_AtomHistory(cljs.core.atom.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [initial_state], null),(0)], null)),cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY),max_size);\n}));\n\n(hyperfiddle.history.atom_history.cljs$lang$maxFixedArity = 2);\n\n\n/**\n* @constructor\n * @implements {cljs.core.IRecord}\n * @implements {cljs.core.IWatchable}\n * @implements {cljs.core.IAtom}\n * @implements {cljs.core.IKVReduce}\n * @implements {cljs.core.IEquiv}\n * @implements {cljs.core.IHash}\n * @implements {cljs.core.ICollection}\n * @implements {cljs.core.IReset}\n * @implements {cljs.core.ISwap}\n * @implements {cljs.core.ICounted}\n * @implements {cljs.core.ISeqable}\n * @implements {cljs.core.IMeta}\n * @implements {cljs.core.ICloneable}\n * @implements {cljs.core.IDeref}\n * @implements {cljs.core.IPrintWithWriter}\n * @implements {cljs.core.IIterable}\n * @implements {cljs.core.IWithMeta}\n * @implements {cljs.core.IAssociative}\n * @implements {cljs.core.IMap}\n * @implements {cljs.core.ILookup}\n*/\nhyperfiddle.history.ProxyHistory = (function (parent,state,__meta,__extmap,__hash){\nthis.parent = parent;\nthis.state = state;\nthis.__meta = __meta;\nthis.__extmap = __extmap;\nthis.__hash = __hash;\nthis.cljs$lang$protocol_mask$partition0$ = 2230748938;\nthis.cljs$lang$protocol_mask$partition1$ = 253954;\n});\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ILookup$_lookup$arity$2 = (function (this__5343__auto__,k__5344__auto__){\nvar self__ = this;\nvar this__5343__auto____$1 = this;\nreturn this__5343__auto____$1.cljs$core$ILookup$_lookup$arity$3(null,k__5344__auto__,null);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ILookup$_lookup$arity$3 = (function (this__5345__auto__,k35595,else__5346__auto__){\nvar self__ = this;\nvar this__5345__auto____$1 = this;\nvar G__35599 = k35595;\nvar G__35599__$1 = (((G__35599 instanceof cljs.core.Keyword))?G__35599.fqn:null);\nswitch (G__35599__$1) {\ncase \"parent\":\nreturn self__.parent;\n\nbreak;\ncase \"state\":\nreturn self__.state;\n\nbreak;\ndefault:\nreturn cljs.core.get.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k35595,else__5346__auto__);\n\n}\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = (function (this__5363__auto__,f__5364__auto__,init__5365__auto__){\nvar self__ = this;\nvar this__5363__auto____$1 = this;\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (ret__5366__auto__,p__35600){\nvar vec__35601 = p__35600;\nvar k__5367__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35601,(0),null);\nvar v__5368__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35601,(1),null);\nreturn (f__5364__auto__.cljs$core$IFn$_invoke$arity$3 ? f__5364__auto__.cljs$core$IFn$_invoke$arity$3(ret__5366__auto__,k__5367__auto__,v__5368__auto__) : f__5364__auto__.call(null,ret__5366__auto__,k__5367__auto__,v__5368__auto__));\n}),init__5365__auto__,this__5363__auto____$1);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = (function (this__5358__auto__,writer__5359__auto__,opts__5360__auto__){\nvar self__ = this;\nvar this__5358__auto____$1 = this;\nvar pr_pair__5361__auto__ = (function (keyval__5362__auto__){\nreturn cljs.core.pr_sequential_writer(writer__5359__auto__,cljs.core.pr_writer,\"\",\" \",\"\",opts__5360__auto__,keyval__5362__auto__);\n});\nreturn cljs.core.pr_sequential_writer(writer__5359__auto__,pr_pair__5361__auto__,\"#hyperfiddle.history.ProxyHistory{\",\", \",\"}\",opts__5360__auto__,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"parent\",\"parent\",-878878779),self__.parent],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),self__.state],null))], null),self__.__extmap));\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IIterable$_iterator$arity$1 = (function (G__35594){\nvar self__ = this;\nvar G__35594__$1 = this;\nreturn (new cljs.core.RecordIter((0),G__35594__$1,2,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"parent\",\"parent\",-878878779),new cljs.core.Keyword(null,\"state\",\"state\",-1988618099)], null),(cljs.core.truth_(self__.__extmap)?cljs.core._iterator(self__.__extmap):cljs.core.nil_iter())));\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IMeta$_meta$arity$1 = (function (this__5341__auto__){\nvar self__ = this;\nvar this__5341__auto____$1 = this;\nreturn self__.__meta;\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ICloneable$_clone$arity$1 = (function (this__5338__auto__){\nvar self__ = this;\nvar this__5338__auto____$1 = this;\nreturn (new hyperfiddle.history.ProxyHistory(self__.parent,self__.state,self__.__meta,self__.__extmap,self__.__hash));\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ICounted$_count$arity$1 = (function (this__5347__auto__){\nvar self__ = this;\nvar this__5347__auto____$1 = this;\nreturn (2 + cljs.core.count(self__.__extmap));\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IHash$_hash$arity$1 = (function (this__5339__auto__){\nvar self__ = this;\nvar this__5339__auto____$1 = this;\nvar h__5154__auto__ = self__.__hash;\nif((!((h__5154__auto__ == null)))){\nreturn h__5154__auto__;\n} else {\nvar h__5154__auto____$1 = (function (coll__5340__auto__){\nreturn (1194936367 ^ cljs.core.hash_unordered_coll(coll__5340__auto__));\n})(this__5339__auto____$1);\n(self__.__hash = h__5154__auto____$1);\n\nreturn h__5154__auto____$1;\n}\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IEquiv$_equiv$arity$2 = (function (this35596,other35597){\nvar self__ = this;\nvar this35596__$1 = this;\nreturn (((!((other35597 == null)))) && ((((this35596__$1.constructor === other35597.constructor)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35596__$1.parent,other35597.parent)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35596__$1.state,other35597.state)) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35596__$1.__extmap,other35597.__extmap)))))))));\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IReset$_reset_BANG_$arity$2 = (function (this$,newval){\nvar self__ = this;\nvar this$__$1 = this;\nreturn cljs.core.reset_BANG_(self__.state,newval);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ISwap$_swap_BANG_$arity$2 = (function (this$,f){\nvar self__ = this;\nvar this$__$1 = this;\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__.state,f);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ISwap$_swap_BANG_$arity$3 = (function (this$,f,arg){\nvar self__ = this;\nvar this$__$1 = this;\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(self__.state,f,arg);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ISwap$_swap_BANG_$arity$4 = (function (this$,f,arg1,arg2){\nvar self__ = this;\nvar this$__$1 = this;\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(self__.state,f,arg1,arg2);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ISwap$_swap_BANG_$arity$5 = (function (this$,f,x,y,args){\nvar self__ = this;\nvar this$__$1 = this;\nreturn cljs.core.apply.cljs$core$IFn$_invoke$arity$variadic(cljs.core.swap_BANG_,self__.state,f,x,y,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([args], 0));\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IMap$_dissoc$arity$2 = (function (this__5353__auto__,k__5354__auto__){\nvar self__ = this;\nvar this__5353__auto____$1 = this;\nif(cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,\"parent\",\"parent\",-878878779),null,new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),null], null), null),k__5354__auto__)){\nreturn cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core._with_meta(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,this__5353__auto____$1),self__.__meta),k__5354__auto__);\n} else {\nreturn (new hyperfiddle.history.ProxyHistory(self__.parent,self__.state,self__.__meta,cljs.core.not_empty(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.__extmap,k__5354__auto__)),null));\n}\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = (function (this__5350__auto__,k35595){\nvar self__ = this;\nvar this__5350__auto____$1 = this;\nvar G__35604 = k35595;\nvar G__35604__$1 = (((G__35604 instanceof cljs.core.Keyword))?G__35604.fqn:null);\nswitch (G__35604__$1) {\ncase \"parent\":\ncase \"state\":\nreturn true;\n\nbreak;\ndefault:\nreturn cljs.core.contains_QMARK_(self__.__extmap,k35595);\n\n}\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IAssociative$_assoc$arity$3 = (function (this__5351__auto__,k__5352__auto__,G__35594){\nvar self__ = this;\nvar this__5351__auto____$1 = this;\nvar pred__35605 = cljs.core.keyword_identical_QMARK_;\nvar expr__35606 = k__5352__auto__;\nif(cljs.core.truth_((pred__35605.cljs$core$IFn$_invoke$arity$2 ? pred__35605.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"parent\",\"parent\",-878878779),expr__35606) : pred__35605.call(null,new cljs.core.Keyword(null,\"parent\",\"parent\",-878878779),expr__35606)))){\nreturn (new hyperfiddle.history.ProxyHistory(G__35594,self__.state,self__.__meta,self__.__extmap,null));\n} else {\nif(cljs.core.truth_((pred__35605.cljs$core$IFn$_invoke$arity$2 ? pred__35605.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),expr__35606) : pred__35605.call(null,new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),expr__35606)))){\nreturn (new hyperfiddle.history.ProxyHistory(self__.parent,G__35594,self__.__meta,self__.__extmap,null));\n} else {\nreturn (new hyperfiddle.history.ProxyHistory(self__.parent,self__.state,self__.__meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k__5352__auto__,G__35594),null));\n}\n}\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ISeqable$_seq$arity$1 = (function (this__5356__auto__){\nvar self__ = this;\nvar this__5356__auto____$1 = this;\nreturn cljs.core.seq(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"parent\",\"parent\",-878878779),self__.parent,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"state\",\"state\",-1988618099),self__.state,null))], null),self__.__extmap));\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IWatchable$_add_watch$arity$3 = (function (this$,key,callback){\nvar self__ = this;\nvar this$__$1 = this;\ncljs.core.add_watch(self__.state,key,callback);\n\nreturn this$__$1;\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IWatchable$_remove_watch$arity$2 = (function (_,key){\nvar self__ = this;\nvar ___$1 = this;\nreturn cljs.core.remove_watch(self__.state,key);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (this__5342__auto__,G__35594){\nvar self__ = this;\nvar this__5342__auto____$1 = this;\nreturn (new hyperfiddle.history.ProxyHistory(self__.parent,self__.state,G__35594,self__.__extmap,self__.__hash));\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$ICollection$_conj$arity$2 = (function (this__5348__auto__,entry__5349__auto__){\nvar self__ = this;\nvar this__5348__auto____$1 = this;\nif(cljs.core.vector_QMARK_(entry__5349__auto__)){\nreturn this__5348__auto____$1.cljs$core$IAssociative$_assoc$arity$3(null,cljs.core._nth(entry__5349__auto__,(0)),cljs.core._nth(entry__5349__auto__,(1)));\n} else {\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,this__5348__auto____$1,entry__5349__auto__);\n}\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.cljs$core$IDeref$_deref$arity$1 = (function (_){\nvar self__ = this;\nvar ___$1 = this;\nreturn cljs.core.deref(self__.state);\n}));\n\n(hyperfiddle.history.ProxyHistory.getBasis = (function (){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.with_meta(new cljs.core.Symbol(null,\"parent\",\"parent\",761652748,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"tag\",\"tag\",-1290361223),new cljs.core.Symbol(null,\"IHistory\",\"IHistory\",-501436262,null)], null)),cljs.core.with_meta(new cljs.core.Symbol(null,\"state\",\"state\",-348086572,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,\"tag\",\"tag\",-1290361223),new cljs.core.Symbol(null,\"IAtom\",\"IAtom\",-1411134312,null)], null))], null);\n}));\n\n(hyperfiddle.history.ProxyHistory.cljs$lang$type = true);\n\n(hyperfiddle.history.ProxyHistory.cljs$lang$ctorPrSeq = (function (this__5389__auto__){\nreturn (new cljs.core.List(null,\"hyperfiddle.history/ProxyHistory\",null,(1),null));\n}));\n\n(hyperfiddle.history.ProxyHistory.cljs$lang$ctorPrWriter = (function (this__5389__auto__,writer__5390__auto__){\nreturn cljs.core._write(writer__5390__auto__,\"hyperfiddle.history/ProxyHistory\");\n}));\n\n/**\n * Positional factory function for hyperfiddle.history/ProxyHistory.\n */\nhyperfiddle.history.__GT_ProxyHistory = (function hyperfiddle$history$__GT_ProxyHistory(parent,state){\nreturn (new hyperfiddle.history.ProxyHistory(parent,state,null,null,null));\n});\n\n/**\n * Factory function for hyperfiddle.history/ProxyHistory, taking a map of keywords to field values.\n */\nhyperfiddle.history.map__GT_ProxyHistory = (function hyperfiddle$history$map__GT_ProxyHistory(G__35598){\nvar extmap__5385__auto__ = (function (){var G__35608 = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__35598,new cljs.core.Keyword(null,\"parent\",\"parent\",-878878779),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,\"state\",\"state\",-1988618099)], 0));\nif(cljs.core.record_QMARK_(G__35598)){\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,G__35608);\n} else {\nreturn G__35608;\n}\n})();\nreturn (new hyperfiddle.history.ProxyHistory(new cljs.core.Keyword(null,\"parent\",\"parent\",-878878779).cljs$core$IFn$_invoke$arity$1(G__35598),new cljs.core.Keyword(null,\"state\",\"state\",-1988618099).cljs$core$IFn$_invoke$arity$1(G__35598),null,cljs.core.not_empty(extmap__5385__auto__),null));\n});\n\n(hyperfiddle.history.ProxyHistory.prototype.hyperfiddle$history$IHistory$ = cljs.core.PROTOCOL_SENTINEL);\n\n(hyperfiddle.history.ProxyHistory.prototype.hyperfiddle$history$IHistory$navigate_BANG_$arity$2 = (function (this$,route){\nvar this$__$1 = this;\nreturn hyperfiddle.history.navigate_BANG_(this$__$1.parent,route);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.hyperfiddle$history$IHistory$back_BANG_$arity$1 = (function (this$){\nvar this$__$1 = this;\nreturn hyperfiddle.history.back_BANG_(this$__$1.parent);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.hyperfiddle$history$IHistory$forward_BANG_$arity$1 = (function (this$){\nvar this$__$1 = this;\nreturn hyperfiddle.history.forward_BANG_(this$__$1.parent);\n}));\n\n(hyperfiddle.history.ProxyHistory.prototype.hyperfiddle$history$IHistory$replace_state_BANG_$arity$2 = (function (this$,new_state){\nvar this$__$1 = this;\nreturn cljs.core.reset_BANG_(this$__$1,new_state);\n}));\n/**\n * Return a new IHistory instance backed by an atom.\n *   History state is stored in an atom.\n *   Navigation is forwarded to the `parent` history.\n *   Initial state is provided with `initial-state`. \n */\nhyperfiddle.history.proxy_history = (function hyperfiddle$history$proxy_history(var_args){\nvar G__35610 = arguments.length;\nswitch (G__35610) {\ncase 1:\nreturn hyperfiddle.history.proxy_history.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ncase 2:\nreturn hyperfiddle.history.proxy_history.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\n(hyperfiddle.history.proxy_history.cljs$core$IFn$_invoke$arity$1 = (function (parent){\nreturn hyperfiddle.history.proxy_history.cljs$core$IFn$_invoke$arity$2(parent,null);\n}));\n\n(hyperfiddle.history.proxy_history.cljs$core$IFn$_invoke$arity$2 = (function (parent,initial_state){\nreturn hyperfiddle.history.__GT_ProxyHistory(parent,cljs.core.atom.cljs$core$IFn$_invoke$arity$1(initial_state));\n}));\n\n(hyperfiddle.history.proxy_history.cljs$lang$maxFixedArity = 2);\n\nhyperfiddle.history.history_QMARK_ = (function hyperfiddle$history$history_QMARK_(h){\nvar and__5043__auto__ = (((!((h == null))))?((((false) || ((cljs.core.PROTOCOL_SENTINEL === h.hyperfiddle$history$IHistory$))))?true:(((!h.cljs$lang$protocol_mask$partition$))?cljs.core.native_satisfies_QMARK_(hyperfiddle.history.IHistory,h):false)):cljs.core.native_satisfies_QMARK_(hyperfiddle.history.IHistory,h));\nif(and__5043__auto__){\nreturn (h instanceof cljs.core.IAtom);\n} else {\nreturn and__5043__auto__;\n}\n});\nhyperfiddle.history.update_in_STAR_ = (function hyperfiddle$history$update_in_STAR_(var_args){\nvar args__5775__auto__ = [];\nvar len__5769__auto___35682 = arguments.length;\nvar i__5770__auto___35683 = (0);\nwhile(true){\nif((i__5770__auto___35683 < len__5769__auto___35682)){\nargs__5775__auto__.push((arguments[i__5770__auto___35683]));\n\nvar G__35684 = (i__5770__auto___35683 + (1));\ni__5770__auto___35683 = G__35684;\ncontinue;\n} else {\n}\nbreak;\n}\n\nvar argseq__5776__auto__ = ((((3) < args__5775__auto__.length))?(new cljs.core.IndexedSeq(args__5775__auto__.slice((3)),(0),null)):null);\nreturn hyperfiddle.history.update_in_STAR_.cljs$core$IFn$_invoke$arity$variadic((arguments[(0)]),(arguments[(1)]),(arguments[(2)]),argseq__5776__auto__);\n});\n\n(hyperfiddle.history.update_in_STAR_.cljs$core$IFn$_invoke$arity$variadic = (function (m,path,f,args){\nif(cljs.core.empty_QMARK_(path)){\nreturn cljs.core.apply.cljs$core$IFn$_invoke$arity$3(f,m,args);\n} else {\nreturn cljs.core.apply.cljs$core$IFn$_invoke$arity$5(cljs.core.update_in,m,path,f,args);\n}\n}));\n\n(hyperfiddle.history.update_in_STAR_.cljs$lang$maxFixedArity = (3));\n\n/** @this {Function} */\n(hyperfiddle.history.update_in_STAR_.cljs$lang$applyTo = (function (seq35612){\nvar G__35613 = cljs.core.first(seq35612);\nvar seq35612__$1 = cljs.core.next(seq35612);\nvar G__35614 = cljs.core.first(seq35612__$1);\nvar seq35612__$2 = cljs.core.next(seq35612__$1);\nvar G__35615 = cljs.core.first(seq35612__$2);\nvar seq35612__$3 = cljs.core.next(seq35612__$2);\nvar self__5754__auto__ = this;\nreturn self__5754__auto__.cljs$core$IFn$_invoke$arity$variadic(G__35613,G__35614,G__35615,seq35612__$3);\n}));\n\nhyperfiddle.history.check_route_BANG_ = (function hyperfiddle$history$check_route_BANG_(route){\nif((((route == null)) || (cljs.core.associative_QMARK_(route)))){\nreturn null;\n} else {\nthrow (new Error([\"Assert failed: \",[\"A route should be an associative data structure. Given \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(route)].join(''),\"\\n\",\"(or (nil? route) (associative? route))\"].join('')));\n}\n});\nhyperfiddle.history.default_platform_history = (function hyperfiddle$history$default_platform_history(){\nreturn hyperfiddle.history.atom_history.cljs$core$IFn$_invoke$arity$0();\n});\nhyperfiddle.history.cleanup_on_unmount = (function hyperfiddle$history$cleanup_on_unmount(h,path){\nif(cljs.core.empty_QMARK_(path)){\nreturn h;\n} else {\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((1),cljs.core.count(path))){\nreturn cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(h,cljs.core.first(path));\n} else {\nreturn hyperfiddle.history.update_in_STAR_.cljs$core$IFn$_invoke$arity$variadic(h,cljs.core.butlast(path),cljs.core.dissoc,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([cljs.core.last(path)], 0));\n\n}\n}\n});\nhyperfiddle.history.on_link_click = (function hyperfiddle$history$on_link_click(next_route,e){\nvar node = e.target;\nvar target = node.getAttribute(\"target\");\n(e.hyperfiddle_history_route = next_route);\n\n(e.hyperfiddle_history_route_external_nav = (((!((node.getAttribute(\"download\") == null)))) || ((((!((target == null)))) && (cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(\"_self\",target))))));\n\nreturn null;\n});\nhyperfiddle.history.absolute = (function hyperfiddle$history$absolute(path){\nif(typeof path === 'string'){\n} else {\nthrow (new Error(\"Assert failed: (string? path)\"));\n}\n\nreturn [\"/\",clojure.string.replace_first(path,/^\\/+/,\"\")].join('');\n});\nhyperfiddle.history.throttler = (function hyperfiddle$history$throttler(rate_ms){\nvar _BANG_nextf = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(null);\nvar _BANG_running = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(false);\nreturn (function hyperfiddle$history$throttler_$_rec(f){\nif(cljs.core.truth_(cljs.core.deref(_BANG_running))){\nreturn cljs.core.reset_BANG_(_BANG_nextf,f);\n} else {\ncljs.core.reset_BANG_(_BANG_running,true);\n\n(f.cljs$core$IFn$_invoke$arity$0 ? f.cljs$core$IFn$_invoke$arity$0() : f.call(null));\n\nreturn window.setTimeout((function (){\ncljs.core.reset_BANG_(_BANG_running,false);\n\nvar temp__5804__auto__ = cljs.core.deref(_BANG_nextf);\nif(cljs.core.truth_(temp__5804__auto__)){\nvar nextf = temp__5804__auto__;\ncljs.core.reset_BANG_(_BANG_nextf,null);\n\nreturn hyperfiddle$history$throttler_$_rec(nextf);\n} else {\nreturn null;\n}\n}),rate_ms);\n}\n});\n});\n\nvar throttle_35685 = hyperfiddle.history.throttler((300));\nhyperfiddle.history.replaceState_BANG_ = (function hyperfiddle$history$replaceState_BANG_(path){\nreturn throttle_35685((function (){\nreturn window.history.replaceState(window.history.state,\"\",hyperfiddle.history.absolute(path));\n}));\n});\n\nhyperfiddle.history.history_entry_uid = cljs.core.partial.cljs$core$IFn$_invoke$arity$3(cljs.core.swap_BANG_,cljs.core.atom.cljs$core$IFn$_invoke$arity$1((Date.now() * (100))),cljs.core.inc);\n\nhyperfiddle.history.html5_pushState_BANG_ = (function hyperfiddle$history$html5_pushState_BANG_(next_position,path){\nreturn window.history.pushState(({\"position\": next_position}),\"\",hyperfiddle.history.absolute(path));\n});\n\nhyperfiddle.history.html5_back_BANG_ = (function hyperfiddle$history$html5_back_BANG_(){\nreturn window.history.back();\n});\n\nhyperfiddle.history.html5_forward_BANG_ = (function hyperfiddle$history$html5_forward_BANG_(){\nreturn window.history.forward();\n});\n\nhyperfiddle.history.html5_location = cljs.core.constantly(window.location);\n\nhyperfiddle.history.html5_path = (function hyperfiddle$history$html5_path(){\nvar loc = hyperfiddle.history.html5_location();\nreturn [cljs.core.str.cljs$core$IFn$_invoke$arity$1(loc.pathname),cljs.core.str.cljs$core$IFn$_invoke$arity$1(loc.search),cljs.core.str.cljs$core$IFn$_invoke$arity$1(loc.hash)].join('');\n});\n\nhyperfiddle.history.index_of = (function hyperfiddle$history$index_of(xs,val){\nvar i = (0);\nvar G__35631 = xs;\nvar vec__35632 = G__35631;\nvar seq__35633 = cljs.core.seq(vec__35632);\nvar first__35634 = cljs.core.first(seq__35633);\nvar seq__35633__$1 = cljs.core.next(seq__35633);\nvar x = first__35634;\nvar xs__$1 = seq__35633__$1;\nvar i__$1 = i;\nvar G__35631__$1 = G__35631;\nwhile(true){\nvar i__$2 = i__$1;\nvar vec__35635 = G__35631__$1;\nvar seq__35636 = cljs.core.seq(vec__35635);\nvar first__35637 = cljs.core.first(seq__35636);\nvar seq__35636__$1 = cljs.core.next(seq__35636);\nvar x__$1 = first__35637;\nvar xs__$2 = seq__35636__$1;\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(x__$1,val)){\nreturn i__$2;\n} else {\nif(cljs.core.seq(xs__$2)){\nvar G__35686 = (i__$2 + (1));\nvar G__35687 = xs__$2;\ni__$1 = G__35686;\nG__35631__$1 = G__35687;\ncontinue;\n} else {\nreturn (-1);\n\n}\n}\nbreak;\n}\n});\n\n\n/**\n* @constructor\n * @implements {cljs.core.IRecord}\n * @implements {cljs.core.IWatchable}\n * @implements {cljs.core.IAtom}\n * @implements {hyperfiddle.history.IHistory}\n * @implements {cljs.core.IKVReduce}\n * @implements {cljs.core.IEquiv}\n * @implements {cljs.core.IHash}\n * @implements {cljs.core.ICollection}\n * @implements {cljs.core.IReset}\n * @implements {cljs.core.ISwap}\n * @implements {cljs.core.ICounted}\n * @implements {cljs.core.ISeqable}\n * @implements {cljs.core.IMeta}\n * @implements {cljs.core.ICloneable}\n * @implements {cljs.core.IDeref}\n * @implements {cljs.core.IPrintWithWriter}\n * @implements {cljs.core.IIterable}\n * @implements {cljs.core.IWithMeta}\n * @implements {cljs.core.IAssociative}\n * @implements {cljs.core.IMap}\n * @implements {cljs.core.ILookup}\n*/\nhyperfiddle.history.HTML5History = (function (encode,decode,_BANG_state,_BANG_stack,_BANG_position,__meta,__extmap,__hash){\nthis.encode = encode;\nthis.decode = decode;\nthis._BANG_state = _BANG_state;\nthis._BANG_stack = _BANG_stack;\nthis._BANG_position = _BANG_position;\nthis.__meta = __meta;\nthis.__extmap = __extmap;\nthis.__hash = __hash;\nthis.cljs$lang$protocol_mask$partition0$ = 2230748938;\nthis.cljs$lang$protocol_mask$partition1$ = 253954;\n});\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ILookup$_lookup$arity$2 = (function (this__5343__auto__,k__5344__auto__){\nvar self__ = this;\nvar this__5343__auto____$1 = this;\nreturn this__5343__auto____$1.cljs$core$ILookup$_lookup$arity$3(null,k__5344__auto__,null);\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ILookup$_lookup$arity$3 = (function (this__5345__auto__,k35639,else__5346__auto__){\nvar self__ = this;\nvar this__5345__auto____$1 = this;\nvar G__35643 = k35639;\nvar G__35643__$1 = (((G__35643 instanceof cljs.core.Keyword))?G__35643.fqn:null);\nswitch (G__35643__$1) {\ncase \"encode\":\nreturn self__.encode;\n\nbreak;\ncase \"decode\":\nreturn self__.decode;\n\nbreak;\ncase \"!state\":\nreturn self__._BANG_state;\n\nbreak;\ncase \"!stack\":\nreturn self__._BANG_stack;\n\nbreak;\ncase \"!position\":\nreturn self__._BANG_position;\n\nbreak;\ndefault:\nreturn cljs.core.get.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k35639,else__5346__auto__);\n\n}\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IKVReduce$_kv_reduce$arity$3 = (function (this__5363__auto__,f__5364__auto__,init__5365__auto__){\nvar self__ = this;\nvar this__5363__auto____$1 = this;\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3((function (ret__5366__auto__,p__35644){\nvar vec__35645 = p__35644;\nvar k__5367__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35645,(0),null);\nvar v__5368__auto__ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35645,(1),null);\nreturn (f__5364__auto__.cljs$core$IFn$_invoke$arity$3 ? f__5364__auto__.cljs$core$IFn$_invoke$arity$3(ret__5366__auto__,k__5367__auto__,v__5368__auto__) : f__5364__auto__.call(null,ret__5366__auto__,k__5367__auto__,v__5368__auto__));\n}),init__5365__auto__,this__5363__auto____$1);\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IPrintWithWriter$_pr_writer$arity$3 = (function (this__5358__auto__,writer__5359__auto__,opts__5360__auto__){\nvar self__ = this;\nvar this__5358__auto____$1 = this;\nvar pr_pair__5361__auto__ = (function (keyval__5362__auto__){\nreturn cljs.core.pr_sequential_writer(writer__5359__auto__,cljs.core.pr_writer,\"\",\" \",\"\",opts__5360__auto__,keyval__5362__auto__);\n});\nreturn cljs.core.pr_sequential_writer(writer__5359__auto__,pr_pair__5361__auto__,\"#hyperfiddle.history.HTML5History{\",\", \",\"}\",opts__5360__auto__,cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"encode\",\"encode\",-1753429702),self__.encode],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"decode\",\"decode\",-1306165281),self__.decode],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"!state\",\"!state\",1311412932),self__._BANG_state],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"!stack\",\"!stack\",-1500239639),self__._BANG_stack],null)),(new cljs.core.PersistentVector(null,2,(5),cljs.core.PersistentVector.EMPTY_NODE,[new cljs.core.Keyword(null,\"!position\",\"!position\",-1373918838),self__._BANG_position],null))], null),self__.__extmap));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IIterable$_iterator$arity$1 = (function (G__35638){\nvar self__ = this;\nvar G__35638__$1 = this;\nreturn (new cljs.core.RecordIter((0),G__35638__$1,5,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,\"encode\",\"encode\",-1753429702),new cljs.core.Keyword(null,\"decode\",\"decode\",-1306165281),new cljs.core.Keyword(null,\"!state\",\"!state\",1311412932),new cljs.core.Keyword(null,\"!stack\",\"!stack\",-1500239639),new cljs.core.Keyword(null,\"!position\",\"!position\",-1373918838)], null),(cljs.core.truth_(self__.__extmap)?cljs.core._iterator(self__.__extmap):cljs.core.nil_iter())));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IMeta$_meta$arity$1 = (function (this__5341__auto__){\nvar self__ = this;\nvar this__5341__auto____$1 = this;\nreturn self__.__meta;\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ICloneable$_clone$arity$1 = (function (this__5338__auto__){\nvar self__ = this;\nvar this__5338__auto____$1 = this;\nreturn (new hyperfiddle.history.HTML5History(self__.encode,self__.decode,self__._BANG_state,self__._BANG_stack,self__._BANG_position,self__.__meta,self__.__extmap,self__.__hash));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ICounted$_count$arity$1 = (function (this__5347__auto__){\nvar self__ = this;\nvar this__5347__auto____$1 = this;\nreturn (5 + cljs.core.count(self__.__extmap));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IHash$_hash$arity$1 = (function (this__5339__auto__){\nvar self__ = this;\nvar this__5339__auto____$1 = this;\nvar h__5154__auto__ = self__.__hash;\nif((!((h__5154__auto__ == null)))){\nreturn h__5154__auto__;\n} else {\nvar h__5154__auto____$1 = (function (coll__5340__auto__){\nreturn (132282510 ^ cljs.core.hash_unordered_coll(coll__5340__auto__));\n})(this__5339__auto____$1);\n(self__.__hash = h__5154__auto____$1);\n\nreturn h__5154__auto____$1;\n}\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IEquiv$_equiv$arity$2 = (function (this35640,other35641){\nvar self__ = this;\nvar this35640__$1 = this;\nreturn (((!((other35641 == null)))) && ((((this35640__$1.constructor === other35641.constructor)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35640__$1.encode,other35641.encode)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35640__$1.decode,other35641.decode)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35640__$1._BANG_state,other35641._BANG_state)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35640__$1._BANG_stack,other35641._BANG_stack)) && (((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35640__$1._BANG_position,other35641._BANG_position)) && (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(this35640__$1.__extmap,other35641.__extmap)))))))))))))));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IReset$_reset_BANG_$arity$2 = (function (this$,newval){\nvar self__ = this;\nvar this$__$1 = this;\nreturn this$__$1.cljs$core$ISwap$_swap_BANG_$arity$2(null,cljs.core.constantly(newval));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ISwap$_swap_BANG_$arity$2 = (function (this$,f){\nvar self__ = this;\nvar this$__$1 = this;\nvar vec__35648 = cljs.core.swap_vals_BANG_.cljs$core$IFn$_invoke$arity$2(self__._BANG_state,f);\nvar _oldval = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35648,(0),null);\nvar newval = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__35648,(1),null);\nhyperfiddle.history.replaceState_BANG_((self__.encode.cljs$core$IFn$_invoke$arity$1 ? self__.encode.cljs$core$IFn$_invoke$arity$1(newval) : self__.encode.call(null,newval)));\n\nreturn newval;\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ISwap$_swap_BANG_$arity$3 = (function (this$,f,arg){\nvar self__ = this;\nvar this$__$1 = this;\nreturn this$__$1.cljs$core$ISwap$_swap_BANG_$arity$2(null,(function (p1__35625_SHARP_){\nreturn (f.cljs$core$IFn$_invoke$arity$2 ? f.cljs$core$IFn$_invoke$arity$2(p1__35625_SHARP_,arg) : f.call(null,p1__35625_SHARP_,arg));\n}));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ISwap$_swap_BANG_$arity$4 = (function (this$,f,arg1,arg2){\nvar self__ = this;\nvar this$__$1 = this;\nreturn this$__$1.cljs$core$ISwap$_swap_BANG_$arity$2(null,(function (p1__35626_SHARP_){\nreturn (f.cljs$core$IFn$_invoke$arity$3 ? f.cljs$core$IFn$_invoke$arity$3(p1__35626_SHARP_,arg1,arg2) : f.call(null,p1__35626_SHARP_,arg1,arg2));\n}));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ISwap$_swap_BANG_$arity$5 = (function (this$,f,x,y,args){\nvar self__ = this;\nvar this$__$1 = this;\nreturn this$__$1.cljs$core$ISwap$_swap_BANG_$arity$2(null,(function (p1__35627_SHARP_){\nreturn cljs.core.apply.cljs$core$IFn$_invoke$arity$5(f,p1__35627_SHARP_,x,y,args);\n}));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IMap$_dissoc$arity$2 = (function (this__5353__auto__,k__5354__auto__){\nvar self__ = this;\nvar this__5353__auto____$1 = this;\nif(cljs.core.contains_QMARK_(new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,\"!state\",\"!state\",1311412932),null,new cljs.core.Keyword(null,\"!stack\",\"!stack\",-1500239639),null,new cljs.core.Keyword(null,\"!position\",\"!position\",-1373918838),null,new cljs.core.Keyword(null,\"encode\",\"encode\",-1753429702),null,new cljs.core.Keyword(null,\"decode\",\"decode\",-1306165281),null], null), null),k__5354__auto__)){\nreturn cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(cljs.core._with_meta(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,this__5353__auto____$1),self__.__meta),k__5354__auto__);\n} else {\nreturn (new hyperfiddle.history.HTML5History(self__.encode,self__.decode,self__._BANG_state,self__._BANG_stack,self__._BANG_position,self__.__meta,cljs.core.not_empty(cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2(self__.__extmap,k__5354__auto__)),null));\n}\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IAssociative$_contains_key_QMARK_$arity$2 = (function (this__5350__auto__,k35639){\nvar self__ = this;\nvar this__5350__auto____$1 = this;\nvar G__35651 = k35639;\nvar G__35651__$1 = (((G__35651 instanceof cljs.core.Keyword))?G__35651.fqn:null);\nswitch (G__35651__$1) {\ncase \"encode\":\ncase \"decode\":\ncase \"!state\":\ncase \"!stack\":\ncase \"!position\":\nreturn true;\n\nbreak;\ndefault:\nreturn cljs.core.contains_QMARK_(self__.__extmap,k35639);\n\n}\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IAssociative$_assoc$arity$3 = (function (this__5351__auto__,k__5352__auto__,G__35638){\nvar self__ = this;\nvar this__5351__auto____$1 = this;\nvar pred__35652 = cljs.core.keyword_identical_QMARK_;\nvar expr__35653 = k__5352__auto__;\nif(cljs.core.truth_((pred__35652.cljs$core$IFn$_invoke$arity$2 ? pred__35652.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"encode\",\"encode\",-1753429702),expr__35653) : pred__35652.call(null,new cljs.core.Keyword(null,\"encode\",\"encode\",-1753429702),expr__35653)))){\nreturn (new hyperfiddle.history.HTML5History(G__35638,self__.decode,self__._BANG_state,self__._BANG_stack,self__._BANG_position,self__.__meta,self__.__extmap,null));\n} else {\nif(cljs.core.truth_((pred__35652.cljs$core$IFn$_invoke$arity$2 ? pred__35652.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"decode\",\"decode\",-1306165281),expr__35653) : pred__35652.call(null,new cljs.core.Keyword(null,\"decode\",\"decode\",-1306165281),expr__35653)))){\nreturn (new hyperfiddle.history.HTML5History(self__.encode,G__35638,self__._BANG_state,self__._BANG_stack,self__._BANG_position,self__.__meta,self__.__extmap,null));\n} else {\nif(cljs.core.truth_((pred__35652.cljs$core$IFn$_invoke$arity$2 ? pred__35652.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"!state\",\"!state\",1311412932),expr__35653) : pred__35652.call(null,new cljs.core.Keyword(null,\"!state\",\"!state\",1311412932),expr__35653)))){\nreturn (new hyperfiddle.history.HTML5History(self__.encode,self__.decode,G__35638,self__._BANG_stack,self__._BANG_position,self__.__meta,self__.__extmap,null));\n} else {\nif(cljs.core.truth_((pred__35652.cljs$core$IFn$_invoke$arity$2 ? pred__35652.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"!stack\",\"!stack\",-1500239639),expr__35653) : pred__35652.call(null,new cljs.core.Keyword(null,\"!stack\",\"!stack\",-1500239639),expr__35653)))){\nreturn (new hyperfiddle.history.HTML5History(self__.encode,self__.decode,self__._BANG_state,G__35638,self__._BANG_position,self__.__meta,self__.__extmap,null));\n} else {\nif(cljs.core.truth_((pred__35652.cljs$core$IFn$_invoke$arity$2 ? pred__35652.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,\"!position\",\"!position\",-1373918838),expr__35653) : pred__35652.call(null,new cljs.core.Keyword(null,\"!position\",\"!position\",-1373918838),expr__35653)))){\nreturn (new hyperfiddle.history.HTML5History(self__.encode,self__.decode,self__._BANG_state,self__._BANG_stack,G__35638,self__.__meta,self__.__extmap,null));\n} else {\nreturn (new hyperfiddle.history.HTML5History(self__.encode,self__.decode,self__._BANG_state,self__._BANG_stack,self__._BANG_position,self__.__meta,cljs.core.assoc.cljs$core$IFn$_invoke$arity$3(self__.__extmap,k__5352__auto__,G__35638),null));\n}\n}\n}\n}\n}\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ISeqable$_seq$arity$1 = (function (this__5356__auto__){\nvar self__ = this;\nvar this__5356__auto____$1 = this;\nreturn cljs.core.seq(cljs.core.concat.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"encode\",\"encode\",-1753429702),self__.encode,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"decode\",\"decode\",-1306165281),self__.decode,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"!state\",\"!state\",1311412932),self__._BANG_state,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"!stack\",\"!stack\",-1500239639),self__._BANG_stack,null)),(new cljs.core.MapEntry(new cljs.core.Keyword(null,\"!position\",\"!position\",-1373918838),self__._BANG_position,null))], null),self__.__extmap));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IWatchable$_add_watch$arity$3 = (function (this$,key,callback){\nvar self__ = this;\nvar this$__$1 = this;\ncljs.core.add_watch(self__._BANG_state,key,callback);\n\nreturn this$__$1;\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IWatchable$_remove_watch$arity$2 = (function (_,key){\nvar self__ = this;\nvar ___$1 = this;\nreturn cljs.core.remove_watch(self__._BANG_state,key);\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IWithMeta$_with_meta$arity$2 = (function (this__5342__auto__,G__35638){\nvar self__ = this;\nvar this__5342__auto____$1 = this;\nreturn (new hyperfiddle.history.HTML5History(self__.encode,self__.decode,self__._BANG_state,self__._BANG_stack,self__._BANG_position,G__35638,self__.__extmap,self__.__hash));\n}));\n\n(hyperfiddle.history.HTML5History.prototype.hyperfiddle$history$IHistory$ = cljs.core.PROTOCOL_SENTINEL);\n\n(hyperfiddle.history.HTML5History.prototype.hyperfiddle$history$IHistory$navigate_BANG_$arity$2 = (function (this$,route){\nvar self__ = this;\nvar this$__$1 = this;\nvar prev_position_35691 = cljs.core.deref(self__._BANG_position);\nvar next_position_35692 = hyperfiddle.history.history_entry_uid();\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(self__._BANG_stack,(function (stack){\nvar index = hyperfiddle.history.index_of(stack,prev_position_35691);\nvar G__35655 = index;\nswitch (G__35655) {\ncase (-1):\nreturn cljs.core.conj.cljs$core$IFn$_invoke$arity$2(stack,next_position_35692);\n\nbreak;\ndefault:\nreturn cljs.core.conj.cljs$core$IFn$_invoke$arity$2(cljs.core.subvec.cljs$core$IFn$_invoke$arity$3(stack,(0),(index + (1))),next_position_35692);\n\n}\n}));\n\ncljs.core.reset_BANG_(self__._BANG_position,next_position_35692);\n\nhyperfiddle.history.html5_pushState_BANG_(next_position_35692,(self__.encode.cljs$core$IFn$_invoke$arity$1 ? self__.encode.cljs$core$IFn$_invoke$arity$1(route) : self__.encode.call(null,route)));\n\nreturn cljs.core.reset_BANG_(this$__$1._BANG_state,route);\n}));\n\n(hyperfiddle.history.HTML5History.prototype.hyperfiddle$history$IHistory$back_BANG_$arity$1 = (function (this$){\nvar self__ = this;\nvar this$__$1 = this;\nhyperfiddle.history.html5_back_BANG_();\n\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(self__._BANG_position,(function (pos,stack){\nvar index = hyperfiddle.history.index_of(stack,pos);\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((0),index)){\nreturn pos;\n} else {\nreturn cljs.core.get.cljs$core$IFn$_invoke$arity$2(stack,(index - (1)));\n}\n}),cljs.core.deref(self__._BANG_stack));\n\nreturn cljs.core.reset_BANG_(this$__$1._BANG_state,(function (){var G__35656 = hyperfiddle.history.html5_path();\nreturn (self__.decode.cljs$core$IFn$_invoke$arity$1 ? self__.decode.cljs$core$IFn$_invoke$arity$1(G__35656) : self__.decode.call(null,G__35656));\n})());\n}));\n\n(hyperfiddle.history.HTML5History.prototype.hyperfiddle$history$IHistory$forward_BANG_$arity$1 = (function (this$){\nvar self__ = this;\nvar this$__$1 = this;\nhyperfiddle.history.html5_forward_BANG_();\n\ncljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$3(self__._BANG_position,(function (pos,stack){\nvar index = hyperfiddle.history.index_of(stack,pos);\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(index,(cljs.core.count(stack) - (1)))){\nreturn pos;\n} else {\nreturn cljs.core.get.cljs$core$IFn$_invoke$arity$2(stack,(index + (1)));\n}\n}),cljs.core.deref(self__._BANG_stack));\n\nreturn cljs.core.reset_BANG_(this$__$1._BANG_state,(function (){var G__35657 = hyperfiddle.history.html5_path();\nreturn (self__.decode.cljs$core$IFn$_invoke$arity$1 ? self__.decode.cljs$core$IFn$_invoke$arity$1(G__35657) : self__.decode.call(null,G__35657));\n})());\n}));\n\n(hyperfiddle.history.HTML5History.prototype.hyperfiddle$history$IHistory$replace_state_BANG_$arity$2 = (function (this$,new_state){\nvar self__ = this;\nvar this$__$1 = this;\nreturn cljs.core.reset_BANG_(this$__$1,new_state);\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$ICollection$_conj$arity$2 = (function (this__5348__auto__,entry__5349__auto__){\nvar self__ = this;\nvar this__5348__auto____$1 = this;\nif(cljs.core.vector_QMARK_(entry__5349__auto__)){\nreturn this__5348__auto____$1.cljs$core$IAssociative$_assoc$arity$3(null,cljs.core._nth(entry__5349__auto__,(0)),cljs.core._nth(entry__5349__auto__,(1)));\n} else {\nreturn cljs.core.reduce.cljs$core$IFn$_invoke$arity$3(cljs.core._conj,this__5348__auto____$1,entry__5349__auto__);\n}\n}));\n\n(hyperfiddle.history.HTML5History.prototype.cljs$core$IDeref$_deref$arity$1 = (function (_){\nvar self__ = this;\nvar ___$1 = this;\nreturn cljs.core.deref(self__._BANG_state);\n}));\n\n(hyperfiddle.history.HTML5History.getBasis = (function (){\nreturn new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"encode\",\"encode\",-112898175,null),new cljs.core.Symbol(null,\"decode\",\"decode\",334366246,null),new cljs.core.Symbol(null,\"!state\",\"!state\",-1343022837,null),new cljs.core.Symbol(null,\"!stack\",\"!stack\",140291888,null),new cljs.core.Symbol(null,\"!position\",\"!position\",266612689,null)], null);\n}));\n\n(hyperfiddle.history.HTML5History.cljs$lang$type = true);\n\n(hyperfiddle.history.HTML5History.cljs$lang$ctorPrSeq = (function (this__5389__auto__){\nreturn (new cljs.core.List(null,\"hyperfiddle.history/HTML5History\",null,(1),null));\n}));\n\n(hyperfiddle.history.HTML5History.cljs$lang$ctorPrWriter = (function (this__5389__auto__,writer__5390__auto__){\nreturn cljs.core._write(writer__5390__auto__,\"hyperfiddle.history/HTML5History\");\n}));\n\n/**\n * Positional factory function for hyperfiddle.history/HTML5History.\n */\nhyperfiddle.history.__GT_HTML5History = (function hyperfiddle$history$__GT_HTML5History(encode,decode,_BANG_state,_BANG_stack,_BANG_position){\nreturn (new hyperfiddle.history.HTML5History(encode,decode,_BANG_state,_BANG_stack,_BANG_position,null,null,null));\n});\n\n/**\n * Factory function for hyperfiddle.history/HTML5History, taking a map of keywords to field values.\n */\nhyperfiddle.history.map__GT_HTML5History = (function hyperfiddle$history$map__GT_HTML5History(G__35642){\nvar extmap__5385__auto__ = (function (){var G__35658 = cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic(G__35642,new cljs.core.Keyword(null,\"encode\",\"encode\",-1753429702),cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(null,\"decode\",\"decode\",-1306165281),new cljs.core.Keyword(null,\"!state\",\"!state\",1311412932),new cljs.core.Keyword(null,\"!stack\",\"!stack\",-1500239639),new cljs.core.Keyword(null,\"!position\",\"!position\",-1373918838)], 0));\nif(cljs.core.record_QMARK_(G__35642)){\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentArrayMap.EMPTY,G__35658);\n} else {\nreturn G__35658;\n}\n})();\nreturn (new hyperfiddle.history.HTML5History(new cljs.core.Keyword(null,\"encode\",\"encode\",-1753429702).cljs$core$IFn$_invoke$arity$1(G__35642),new cljs.core.Keyword(null,\"decode\",\"decode\",-1306165281).cljs$core$IFn$_invoke$arity$1(G__35642),new cljs.core.Keyword(null,\"!state\",\"!state\",1311412932).cljs$core$IFn$_invoke$arity$1(G__35642),new cljs.core.Keyword(null,\"!stack\",\"!stack\",-1500239639).cljs$core$IFn$_invoke$arity$1(G__35642),new cljs.core.Keyword(null,\"!position\",\"!position\",-1373918838).cljs$core$IFn$_invoke$arity$1(G__35642),null,cljs.core.not_empty(extmap__5385__auto__),null));\n});\n\n\nhyperfiddle.history.html5_history = (function hyperfiddle$history$html5_history(encode,decode){\nvar position = (function (){var or__5045__auto__ = (function (){var temp__5804__auto__ = window.history.state;\nif(cljs.core.truth_(temp__5804__auto__)){\nvar state = temp__5804__auto__;\nreturn state.position;\n} else {\nreturn null;\n}\n})();\nif(cljs.core.truth_(or__5045__auto__)){\nreturn or__5045__auto__;\n} else {\nreturn hyperfiddle.history.history_entry_uid();\n}\n})();\nvar stack = (function (){var temp__5802__auto__ = window.sessionStorage.getItem(\"hyperfiddle_history_stack\");\nif(cljs.core.truth_(temp__5802__auto__)){\nvar array = temp__5802__auto__;\nreturn clojure.edn.read_string.cljs$core$IFn$_invoke$arity$1(array);\n} else {\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [position], null);\n}\n})();\nvar _BANG_position = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(position);\nvar _BANG_stack = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(stack);\nwindow.history.replaceState(({\"position\": position}),null);\n\ncljs.core.add_watch(_BANG_stack,new cljs.core.Keyword(\"hyperfiddle.history\",\"stack\",\"hyperfiddle.history/stack\",-2116087988),(function (_,___$1,___$2,stack__$1){\nreturn window.sessionStorage.setItem(\"hyperfiddle_history_stack\",cljs.core.pr_str.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([stack__$1], 0)));\n}));\n\nreturn hyperfiddle.history.__GT_HTML5History(encode,decode,cljs.core.atom.cljs$core$IFn$_invoke$arity$1((function (){var G__35659 = hyperfiddle.history.html5_path();\nreturn (decode.cljs$core$IFn$_invoke$arity$1 ? decode.cljs$core$IFn$_invoke$arity$1(G__35659) : decode.call(null,G__35659));\n})()),_BANG_stack,_BANG_position);\n});\n\nhyperfiddle.history._html5_history_get_state = (function hyperfiddle$history$_html5_history_get_state(this$){\nreturn this$._BANG_state;\n});\n\n\n\nhyperfiddle.history.nav_delta = (function hyperfiddle$history$nav_delta(stack,prev_position,curr_position){\nreturn (hyperfiddle.history.index_of(stack,curr_position) - hyperfiddle.history.index_of(stack,prev_position));\n});\n\n\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","hyperfiddle/history.cljc","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",24],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$clojure.pprint","~$cljs.pprint","~$clojure.spec.alpha","~$cljs.spec.alpha","~$clojure.math","~$cljs.math","~$clojure.core","~$cljs.core"],"~:use-macros",["^ ","~$do-browser","~$contrib.cljs-target","~$tests","~$hyperfiddle.rcf","~$with","^J"],"~:excludes",["~#set",[]],"~:macros",["^ ","~$router",["^ ","~:arglists",["~#list",[["~$history-or-ident","~$&","~$body"]]],"~:doc","\n  Evaluates `body` in a routing context, in which:\n  - `route` is bound to the current history state,\n  - `swap-route!` will set the current route (does not trigger a navigation),\n  - `link` will render a dom anchor triggering a soft navigation in the current history.\n\n  `router` expressions can nest, in which case the current route is scoped.\n  Page components can therfore safely route locally without conflicting while\n  still supporting global back and forward navigation.\n\n  Takes as first argument, either:\n  - an `IHistory` instance - typically at the root of your program.\n  - an ident (keyword or symbol) to focus on a child route scope.\n  - `nil` will pick the default `IHistory` instance for the current\n    platform (Browser history or in-memory atom)\n\n  Usage:\n  ```\n  (router nil                         ; pick default router\n     (link {::page ::b} (dom/text \"Go to Page B\"))\n     (case (::page route)\n       ::b (dom/text \"you are on page b\")\n       ::c (dom/text \"you are on page c\"))\n     (router ::subpage\n       (swap-route! assoc :key :value) ; typically a consequence of a user action\n       (link {::page ::c} (dom/text \"Go to Page C\"))))\n  ```\n\n  Advanced use case: a nested `router` call can redefine the history in which\n  case navigation will occur locally. Note the browser history is a singleton,\n  so navigation always occur at the page level. Binding the same history\n  instance twice is a noop.","^7",286,"^8",1,"^6","hyperfiddle/history.cljc","~:name","~$hyperfiddle.history/router","~:ns","~$hyperfiddle.history","~:macro",true],"~$link",["^ ","^P",["^Q",[["~$route","~$&","^S"]]],"^7",435,"^8",1,"^6","hyperfiddle/history.cljc","^U","~$hyperfiddle.history/link","^W","^X","^Y",true]],"^U","^X","~:reader-aliases",["^ "],"~:op","^W","~:imports",null,"~:requires",["^ ","~$hyperfiddle.electric-dom2","^15","~$dom","^15","~$missionary.core","^17","^H","^H","^E","^E","~$goog","^18","~$m","^17","^J","^J","~$rcf","^J","~$e","~$hyperfiddle.electric","~$clojure.edn","^1;","~$str","~$clojure.string","^1=","^1=","~$edn","^1;","^1:","^1:"],"~:seen",["^M",["~:require","~:require-macros"]],"~:uses",["^ ","^G","^H","^I","^J","~$%","^J","~$tap","^J","^K","^J"],"^1A",["^ ","^15","^15","^16","^15","^17","^17","^H","^H","^E","^E","~$m","^17","^J","^J","^19","^J","~$e","^1:","^1:","^1:","^X","^X"],"~:form",["^Q",["~$ns","^X",["^Q",["^1@",["^H","~:refer",["^G"]],["^J","~:as","^19","^1F",["^I","~$%","^1C","^K"]],["^1:","^1G","~$e"],["^15","^1G","^16"],["^17","^1G","~$m"],["^1;","^1G","^1>"],["^1=","^1G","^1<"]]],["^Q",["^1A","^X"]]]],"~:flags",["^ ","^1@",["^M",[]],"^1A",["^M",[]]],"~:js-deps",["^ "],"~:deps",["^18","^E","^H","^J","^1:","^15","^17","^1;","^1="]],"^W","^X","~:resource-id",["~:shadow.build.classpath/resource","hyperfiddle/history.cljc"],"~:compiled-at",1693922842029,"^11",["^ ","^15","^15","^16","^15","^17","^17","^H","^H","^E","^E","^18","^18","~$m","^17","^J","^J","^19","^J","~$e","^1:","^1;","^1;","^1<","^1=","^1=","^1=","^1>","^1;","^1:","^1:","^X","^X"],"~:resource-name","hyperfiddle/history.cljc","~:warnings",[],"~:source","(ns hyperfiddle.history\n  (:require [contrib.cljs-target :refer [do-browser]]\n            [hyperfiddle.rcf :as rcf :refer [tests % tap with]]\n            [hyperfiddle.electric :as e]\n            [hyperfiddle.electric-dom2 :as dom]\n            [missionary.core :as m]\n            [clojure.edn :as edn]\n            [clojure.string :as str])\n  #?(:clj (:import [clojure.lang IRef IAtom]))\n  #?(:cljs (:require-macros hyperfiddle.history)))\n\n;; TODO move bindings to hyperfiddle.api\n\n;; 1: ~have an atom cursor data type~ (see comment below)\n;; 1. have a continuous time read-only route value (single m/watch)\n;; 2. have a write only api\n;; 3. have an history protocol for atom (clojure) and html5 history (cljs)\n;; 4. have a Link component calling the private push-state! api.\n;; 5. hf/router nil is the top route\n;; 6. ~hf/!route is an atom~ !history is atom-like\n;; 7. ~nested hf/router calls rebinds hf/!route to a cursor~ (see comment below)\n;; 7. nested hf/router calls rebinds hf/route and hf/swap-route!\n;; 8. ~a change to the top-level hf/!route binding triggers a replace-state! to the history~\n;;    no !history is the single source of truth\n;; 9. a push-state! resets the current hf/!history binding.\n\n\n;; Based on a reflexion of the use of cursors in Electric, Im challengineg goal 1. because:\n;; - A cursor is a read-write interface supporting m/watch.\n;; - m/watch is eager, so a change to the watched cursor immedately triggers a reactor propagation turn\n;; - a cursor always write to the original root atom\n;; - the root atom notifies its cursors recursively and eagerly\n;; - therefore all m/watch on the cursor tree will schedule a reactor propagation turn eagerly on every root atom change.\n;; - an optimization would be for the cursor watch mechanisme to dedupe by `=` before notifying the m/watch, reimplementing work-skipping in an eager way\n;; - glitches would happen at scale, just like in reagent\n;; - a loop can happen if a watched cursor triggers a write to another cursor in the same tree\n;; - the reactor would run until a fixed point is reached\n;; - while the same problem exists with m/watch on atoms, a tree of cursors makes these loops non trivial an hard to debug (is this a strong argument?)\n\n;; By separating the read from the write:\n;; we would have a single m/watch on the root atom, ensuring a change triggers one propagation turn.\n;; deduping would be lazy (handled by Electric)\n;; loops would still be possible but would be easier to track (is this a strong argument?)\n\n(comment\n  (rcf/enable! true))\n\n;;; History\n\n(defprotocol IHistory\n  (navigate! [this route])\n  (back! [this])\n  (forward! [this])\n  (replace-state! [this new-state]))\n\n(declare notify-watches)\n\n(defn updatef [[history idx] f] [(update history idx f) idx])\n\n#?(:clj\n   (defrecord AtomHistory [^IAtom state watches max-size]\n     IAtom\n     (swap [this f]           (notify-watches this (swap-vals! state updatef f)))\n     (swap [this f arg]       (.swap this #(f % arg)))\n     (swap [this f arg1 arg2] (.swap this #(f % arg1 arg2)))\n     (swap [this f x y args]  (.swap this #(apply f % x y args)))\n     (reset [this newval]     (.swap this (constantly newval)))\n     (compareAndSet [this oldv newv]\n       (loop []\n         (let [refv (deref this)]\n           (if (not= oldv refv)\n             false\n             (or (compare-and-set! state refv (updatef refv (constantly newv)))\n               (recur))))))\n\n     IRef\n     (setValidator [_ _] (throw (UnsupportedOperationException. \"History does not support validators\")))\n     (getValidator [_] (throw (UnsupportedOperationException. \"History does not support validators\")))\n     (getWatches [_] (deref watches))\n     (addWatch [this key callback]\n       (swap! watches assoc key callback)\n       this)\n     (removeWatch [_ key] (swap! watches dissoc key))\n     (deref [_] (let [[history idx] @state]\n                  (get history idx)))\n     ))\n\n(defn notify-watches [this [oldstate newstate]]\n  (let [oldval (apply get oldstate)\n        newval (apply get newstate)]\n    (doseq [[key callback] @(:watches this)]\n      (callback key this oldval newval))))\n\n;; (add-watch (atom 0) ::key (constantly true))\n\n#?(:clj (defmethod print-method AtomHistory [x w] (print-dup x w)))\n\n#?(:cljs\n   (defrecord AtomHistory [state watches max-size]\n     IAtom\n     ISwap\n     (-swap! [this f]           (notify-watches this (swap-vals! state updatef f)))\n     (-swap! [this f arg]       (-swap! this #(f % arg)))\n     (-swap! [this f arg1 arg2] (-swap! this #(f % arg1 arg2)))\n     (-swap! [this f x y args]  (-swap! this #(apply f % x y args)))\n\n     IReset\n     (-reset! [this newval]     (-swap! this (constantly newval)))\n\n     IWatchable\n     (-add-watch [this key callback]\n       (swap! watches assoc key callback)\n       this)\n     (-remove-watch [_ key] (swap! watches dissoc key))\n\n     IDeref\n     (-deref [_] (let [[history idx] @state]\n                  (get history idx)))\n     ))\n\n(extend-type AtomHistory\n  IHistory\n  (navigate! [this route]\n    (notify-watches this\n      (swap-vals! (.-state this)\n        (fn [[history idx]]\n          (if (= (count history) (.-max-size this)) ; TODO use a ring data structure for O(1) ops\n            [(conj (subvec history 1)           route)      idx]\n            [(conj (subvec history 0 (inc idx)) route) (inc idx)])))))\n  (back! [this]\n    (notify-watches this\n      (swap-vals! (.-state this) (fn [[history idx]] [history (max (dec idx) 0)]))))\n  (forward! [this] (notify-watches this\n                     (swap-vals! (.-state this) (fn [[history idx]] [history (min (inc idx) (dec (count history)))]))))\n  (replace-state! [this new-state] (reset! this new-state)))\n\n\n(defn atom-history\n  \"Return a new IHistory instance backed by an atom.\n  Initial history state can be provided with `initial-state`.\n  Default history size is unbounded and can be constrained to `max-size` elements in a FIFO way.\n  A negative value or 0 has no effect.\"\n  ([] (atom-history nil 0))\n  ([initial-state] (atom-history initial-state 0))\n  ([initial-state max-size] (->AtomHistory (atom [[initial-state] 0]) (atom {}) max-size)))\n\n#?(:clj\n   (defrecord ProxyHistory [parent ^IAtom state]\n     IAtom\n     (swap [this f]           (swap! state f))\n     (swap [this f arg]       (swap! state f arg))\n     (swap [this f arg1 arg2] (swap! state f arg1 arg2))\n     (swap [this f x y args]  (apply swap! state f x y args))\n     (reset [this newval]     (reset! state newval))\n     (compareAndSet [this oldv newv] (compare-and-set! state oldv newv))\n\n     IRef\n     (setValidator [_ _] (throw (UnsupportedOperationException. \"History does not support validators\")))\n     (getValidator [_] (throw (UnsupportedOperationException. \"History does not support validators\")))\n     (getWatches [_] (.getWatches state))\n     (addWatch [this key callback] (add-watch state key callback) this)\n     (removeWatch [_ key] (remove-watch state key))\n     (deref [_] (deref state))\n     ))\n\n\n#?(:clj (defmethod print-method ProxyHistory [x w] (print-dup x w)))\n\n#?(:cljs\n   (defrecord ProxyHistory [^IHistory parent ^IAtom state]\n     IAtom\n     ISwap\n     (-swap! [this f]           (swap! state f))\n     (-swap! [this f arg]       (swap! state f arg))\n     (-swap! [this f arg1 arg2] (swap! state f arg1 arg2))\n     (-swap! [this f x y args]  (apply swap! state f x y args))\n\n     IReset\n     (-reset! [this newval]     (reset! state newval))\n\n     IWatchable\n     (-add-watch [this key callback] (add-watch state key callback)\n       this)\n     (-remove-watch [_ key] (remove-watch state key))\n\n     IDeref\n     (-deref [_] (deref state))\n     ))\n\n(extend-type ProxyHistory\n  IHistory\n  (navigate! [this route] (navigate! (.-parent this) route))\n  (back! [this] (back! (.-parent this)))\n  (forward! [this] (forward! (.-parent this)))\n  (replace-state! [this new-state] (reset! this new-state)))\n\n\n(defn proxy-history\n  \"Return a new IHistory instance backed by an atom.\n  History state is stored in an atom.\n  Navigation is forwarded to the `parent` history.\n  Initial state is provided with `initial-state`. \"\n  ([parent] (proxy-history parent nil))\n  ([parent initial-state] (->ProxyHistory parent (atom initial-state)))) ; keep state local, not in url\n\n\n(tests\n  \"navigate\"\n  (let [h (atom-history)]\n    @h := nil\n    (navigate! h :a)\n    @h := :a))\n\n(tests\n  \"back and forth\"\n  (let [h (atom-history)]\n    @h := nil\n    (navigate! h :a)\n    (navigate! h :b)\n    @h := :b\n    (back! h)\n    @h := :a\n    (back! h)\n    @h := nil\n    (forward! h)\n    @h := :a\n    (navigate! h :c)\n    @h := :c\n    (forward! h)\n    @h := :c))\n\n(tests\n  \"replace-state\"\n  (let [h (atom-history)]\n    @h := nil\n    (replace-state! h :a)\n    @h := :a\n    (navigate! h :b)\n    @h := :b\n    (replace-state! h :a)))\n\n(tests\n  \"max-size and initial value\"\n  (let [h (atom-history :init 1)]\n    @h := :init\n    (navigate! h :a)\n    @h := :a\n    (navigate! h :b)\n    @h := :b\n    (back! h)\n    @h := :b\n    ))\n\n(defn history? [h]\n  (and (satisfies? IHistory h)\n    (instance? IAtom h)))\n\n(tests\n  (history? (atom-history)) := true)\n\n;;; 1. and 2.\n\n(e/def !history nil)                    ; History instance mutable ref\n(e/def history ::unset)\n(e/def route ::unset)\n(e/def path [])\n(e/def swap-route! nil)\n\n(defn update-in* [m path f & args]\n  (if (empty? path)\n    (apply f m args)\n    (apply update-in m path f args)))\n\n(defn check-route! [route]\n  (assert (or (nil? route) (associative? route)) (str \"A route should be an associative data structure. Given \" route)))\n\n(defn default-platform-history []\n  #?(:clj (atom-history)\n     :cljs (atom-history)))\n\n(defn cleanup-on-unmount [h path]\n  (cond (empty? path)      h\n        (= 1 (count path)) (dissoc h (first path))\n        :else              (update-in* h (butlast path) dissoc (last path))))\n\n(defmacro router\n  \"\n  Evaluates `body` in a routing context, in which:\n  - `route` is bound to the current history state,\n  - `swap-route!` will set the current route (does not trigger a navigation),\n  - `link` will render a dom anchor triggering a soft navigation in the current history.\n\n  `router` expressions can nest, in which case the current route is scoped.\n  Page components can therfore safely route locally without conflicting while\n  still supporting global back and forward navigation.\n\n  Takes as first argument, either:\n  - an `IHistory` instance - typically at the root of your program.\n  - an ident (keyword or symbol) to focus on a child route scope.\n  - `nil` will pick the default `IHistory` instance for the current\n    platform (Browser history or in-memory atom)\n\n  Usage:\n  ```\n  (router nil                         ; pick default router\n     (link {::page ::b} (dom/text \\\"Go to Page B\\\"))\n     (case (::page route)\n       ::b (dom/text \\\"you are on page b\\\")\n       ::c (dom/text \\\"you are on page c\\\"))\n     (router ::subpage\n       (swap-route! assoc :key :value) ; typically a consequence of a user action\n       (link {::page ::c} (dom/text \\\"Go to Page C\\\"))))\n  ```\n\n  Advanced use case: a nested `router` call can redefine the history in which\n  case navigation will occur locally. Note the browser history is a singleton,\n  so navigation always occur at the page level. Binding the same history\n  instance twice is a noop.\"\n\n  [history-or-ident & body]\n  `(let [history-or-ident#          ~history-or-ident\n         ident#                     (if (or (ident? history-or-ident#)\n                                            (integer? history-or-ident#))\n                                      history-or-ident# nil)\n         path#                      (if (nil? ident#) [] [ident#])\n         [rebound?# history# path#] (if (or (ident? history-or-ident#)\n                                            (integer? history-or-ident#)) ; if we focus on a sub route\n                                      [false !history (into path path#)] ; same history, different path\n                                      (let [h# (or history-or-ident# (default-platform-history))]\n                                        (if (= h# !history) ; if we rebind to the same history\n                                          [false h# path#]  ; noop\n                                          [true h# []])     ; new history, root path\n                                        ))]\n     (binding [!history history#\n               path     path#]\n       (binding [history (if (or rebound?# (= ::unset history)) (e/watch !history) history)]\n         (binding [route (let [route (if (or rebound?# (= ::unset route)) history route)]\n                           (check-route! route)\n                           (if (some? ident#)\n                             (get route ident#)\n                             route))]\n           (binding [swap-route! (partial (fn [!history# path# & args#]\n                                            (swap! !history# (fn [r#] (apply update-in* r# path# args#))))\n                                   !history path)]\n             (e/on-unmount #(swap! !history cleanup-on-unmount path#))\n             ~@body))))))\n\n;::render-title (set! (.-title js/document) (str (clojure.string/capitalize (name (first route))) \" - Hyperfiddle\"))\n\n(tests\n  (with (e/run (try (router nil (tap route))\n                    (catch Throwable t\n                      (prn t))))\n    % := nil))\n\n(tests\n  (with (e/run (router (atom-history {:a \"hello\"})\n                 (tap route)\n                 (router :a\n                   (tap route))))\n    % := {:a \"hello\"}\n    % := \"hello\"))\n\n(tests\n  (with (e/run (router nil\n                 (tap route)\n                 (swap-route! assoc :key \"top\")\n                 (router :child\n                   (swap-route! assoc :key \"nested\")))\n          )\n    % := nil\n    % := {:key \"top\"\n          :child {:key \"nested\"}}\n    ))\n\n\n(tests\n  \"History + route\"\n  (let [!command (atom nil)]\n    (with (e/run (binding [!history (atom-history)]\n                   (router :page\n                     (tap route)\n                     (let [[command value] (e/watch !command)]\n                       (case command\n                         ::navigate!      (navigate! !history value)\n                         ::back!          (back! !history)\n                         ::forward!       (forward! !history)\n                         ::replace-state! (replace-state! !history value)\n                         nil)))))\n      % := nil\n      (reset! !command [::navigate! {:page :a}])\n      % := :a\n      (reset! !command [::navigate! {:page :b}])\n      % := :b\n      (reset! !command [::replace-state! {:page :c}])\n      % := :c\n      (reset! !command [::back!])\n      % := :a\n      (reset! !command [::forward!])\n      % := :c\n      )))\n\n(e/def encode identity) ; turn sexpr to string href - ednish encoding, hopefully simple\n(e/def decode identity)\n\n;;; 3. Link\n\n(e/def build-route {})\n\n#?(:cljs\n   (defn on-link-click [next-route ^js e]\n     ;; enrich click event with:\n     ;; - the route\n     ;; - is the link internal or external (soft vs hard nav)\n     (let [node   (.-target e)\n           target (.getAttribute node \"target\")]\n       (set! (.-hyperfiddle_history_route e) next-route)\n       (set! (.-hyperfiddle_history_route_external_nav e)\n         (or (some? (.getAttribute node \"download\"))\n           (and (some? target) (not= \"_self\" target))))\n       nil)))\n\n(e/defn Link [route Body]\n  (let [next-route (build-route history route)]\n    (dom/a\n      (dom/props {::dom/href (encode next-route)})\n      (new Body)\n      (new (m/relieve {}\n             (m/reductions {} nil\n               (e/listen> dom/node \"click\"\n                 (fn [e] ; todo e/for-event-pending-switch? Or missionary itself\n                   ;; TODO why !history doesn't work and we have to lexically bind it?\n                   (on-link-click next-route e)))))))))\n\n(defmacro link [route & body]\n  ; all links are Sexpr-like and head is qualified name. like [::secrets 1 2]\n  `(new Link ~route (e/fn [] ~@body)))\n\n(comment\n  (defn ^:no-doc route-cleanup [path m]\n    (let [cleanup (fn [m] (when m\n                            (not-empty\n                              (persistent!\n                                (reduce-kv (fn [r k v]\n                                             (if (data/nil-or-empty? v)\n                                               (dissoc! r k)\n                                               r)) (transient m) m)))))]\n      (case (count path)\n        0 (cleanup m)\n        1 (route-cleanup [] (update m (first path) cleanup))\n        (route-cleanup (butlast path) (update-in m path cleanup))))))\n\n\n;; HTML5 integration\n\n(defn absolute [path]\n  (assert (string? path))\n  (str \"/\" (str/replace-first path #\"^/+\" \"\")))\n\n(tests\n  (absolute \"foo\")        := \"/foo\"\n  (absolute \"/foo\")       := \"/foo\"\n  (absolute \"//foo\")      := \"/foo\"\n  (absolute \"//foo//bar\") := \"/foo//bar\")\n\n#?(:cljs\n   (do-browser\n\n     (defn throttler [rate-ms]\n       (let [!nextf (atom nil)\n             !running (atom false)]\n         (fn rec [f]\n           (if @!running\n             (reset! !nextf f)\n             (do (reset! !running true)\n                 (f)\n                 (.setTimeout js/window (fn [] (reset! !running false)\n                                          (when-let [nextf @!nextf]\n                                            (reset! !nextf nil)\n                                            (rec nextf)))\n                   rate-ms))))))\n\n     ;; User agent limits HistoryAPI to 100 changes / 30s timeframe (https://bugs.webkit.org/show_bug.cgi?id=156115)\n     ;; Firefox and Safari log an error and ignore further HistoryAPI calls for security reasons.\n     ;; Chrome does the same but can also hang the tab: https://bugs.chromium.org/p/chromium/issues/detail?id=1038223\n     (let [throttle (throttler 300)]    ; max 3changes/s, 90/30s\n       (defn replaceState! [path] (throttle #(.replaceState js/window.history (.. js/window -history -state) \"\" (absolute path)))))\n\n     ;; History entries' ids must be unique across page refreshes.\n     ;; - A monotonic counter would reset and ids would collide after a refresh.\n     ;; - Date.now() is not precise enough, two programatic navigations could happen at the same millisecond.\n     ;; - We use a mix of both: monotonic counter seeded by current time * 100.\n     ;;   - Supports 100 navigations per millisecond.\n     ;;   - doesn't collide after a page refresh.\n     (def history-entry-uid (partial swap! (atom (* (.now js/Date) 100)) inc))\n\n     (defn html5-pushState! [next-position path] (.pushState js/window.history #js{:position next-position} \"\" (absolute path)))\n     (defn html5-back! [] (.back js/window.history))\n     (defn html5-forward! [] (.forward js/window.history))\n\n     (def html5-location (constantly (.-location js/window)))\n\n     (defn html5-path []\n       (let [loc (html5-location)]\n         (str (.-pathname loc) (.-search loc) (.-hash loc))))\n\n     (defn- index-of [xs val]\n       (loop [i 0\n              [x & xs] xs]\n         (cond (= x val) i\n               (seq xs) (recur (inc i) xs)\n               :else -1)))\n\n     (defrecord HTML5History [encode decode !state !stack !position]\n       IAtom\n       ISwap\n       (-swap! [this f] (let [[_oldval newval] (swap-vals! !state f)]\n                          (replaceState! (encode newval))\n                          newval))\n       (-swap! [this f arg] (-swap! this #(f % arg)))\n       (-swap! [this f arg1 arg2] (-swap! this #(f % arg1 arg2)))\n       (-swap! [this f x y args] (-swap! this #(apply f % x y args)))\n\n       IReset\n       (-reset! [this newval] (-swap! this (constantly newval)))\n\n       IWatchable\n       (-add-watch [this key callback]\n         (add-watch !state key callback)\n         this)\n       (-remove-watch [_ key] (remove-watch !state key))\n\n       IDeref\n       (-deref [_] @!state)\n\n       IHistory\n       (navigate! [this route]\n         (let [prev-position @!position\n               next-position (history-entry-uid)]\n           (swap! !stack (fn [stack]\n                           (let [index (index-of stack prev-position)]\n                             (case index\n                               -1 (conj stack next-position)\n                               (conj (subvec stack 0 (inc index)) next-position)))))\n           (reset! !position next-position)\n           (html5-pushState! next-position (encode route)))\n         (reset! (.-!state this) route))\n       (back! [^HTML5History this]\n         (html5-back!)\n         (swap! !position (fn [pos stack]\n                            (let [index (index-of stack pos)]\n                              (if (= 0 index) pos (get stack (dec index)))))\n           @!stack)\n         (reset! (.-!state this) (decode (html5-path))))\n       (forward! [^HTML5History this]\n         (html5-forward!)\n         (swap! !position (fn [pos stack]\n                            (let [index (index-of stack pos)]\n                              (if (= index (dec (count stack))) pos (get stack (inc index)))))\n           @!stack)\n         (reset! (.-!state this) (decode (html5-path))))\n       (replace-state! [this new-state]\n         (reset! this new-state))\n\n       ;; TODO Implement equality so that two HTML5History are always equal. The\n       ;;      browser history is a singleton. There is no use case for nested\n       ;;      HTML5History instances on the page.\n       )\n\n     (defn html5-history [encode decode]\n       ;; Browser History API forbids to prevent navigation. Use case: prompt user for confirmation of unsaved data loss.\n       ;; We must implement it ourselves by reverting the navigation action. However:\n       ;;  - navigation direction (back/forward) is not provided.\n       ;;  - current position in history is not provided.\n       ;; To mitigate, we keep a stack of navigated pages and persist it to\n       ;; SessionStorage, so it survives refreshes.\n\n       ;; \"popstate\" events will contain the current page position, the history\n       ;; instance will contain the previous one. Given the stack, the previous\n       ;; position and current position, we compute the distance (delta) between the two\n       ;; pages (one can jump over multiple pages at once through history).\n       ;; We then call History.go(-delta) to revert the navigation.\n       ;; See `HTML5-Navigation-Intents`.\n       (let [position  (or (when-let [state (.. js/window -history -state)]\n                             (.-position state))\n                         (history-entry-uid))\n             stack     (if-let [array (.. js/window -sessionStorage (getItem \"hyperfiddle_history_stack\"))]\n                         (edn/read-string array)\n                         [position])\n             !position (atom position)\n             !stack    (atom stack)]\n         (.replaceState (.-history js/window) #js{:position position} nil)\n         (add-watch !stack ::stack (fn [_ _ _ stack] (.. js/window -sessionStorage (setItem \"hyperfiddle_history_stack\" (pr-str stack)))))\n         (->HTML5History encode decode (atom (decode (html5-path))) !stack !position)))\n\n\n     (defn -html5-history-get-state [^HTML5History this] (.-!state this))\n\n     (e/defn OnBeforeNavigate! \"Run for effect on history navigation\" [])\n     (e/def confirm-navigation?\n       \"A predicate called on user navigation intent. If false, the current navigation intent is prevented.\n        Called during DOM event bubbling phase, it must be synchronous and therefore must be bound to a clojure function.\"\n       (fn [_dom-event] true))\n\n     #?(:cljs\n        (defn nav-delta [stack prev-position curr-position]\n          (- (index-of stack curr-position) (index-of stack prev-position))))\n\n     (e/defn HTML5-Navigation-Intents [history]\n       (let [!idle (atom false)]\n         (try\n           (dom/on js/window \"beforeunload\" ; refresh or close tabe\n             (e/fn [^js e]\n               (when-not (confirm-navigation? e)\n                 (.preventDefault e))))\n\n           (dom/on (.-document js/window) \"click\" ; navigation by link click (also supports keyboard nav)\n             ;; only intercepts internal links. See `Link`.\n             (e/fn [^js e]\n               (when (and (= \"A\" (.. e -target -nodeName))\n                       (some? (.-hyperfiddle_history_route e))\n                       (not (.-hyperfiddle_history_route_external_nav e)))\n                 (.preventDefault e)\n                 (when (confirm-navigation? e)\n                   (case (OnBeforeNavigate!.) ; sequence effects\n                     (navigate! history (.-hyperfiddle_history_route e)))))))\n\n           (dom/on js/window \"popstate\" ; previous and next button\n             (e/fn [^js e]\n               ;; \"popstate\" event can't be cancelled. We are forced to detect\n               ;; navigation direction (back/forward) and to invert it. History\n               ;; must be idle during this back and forth operation to prevent a\n               ;; page flicker.\n               (let [stack         @(.-!stack history)\n                     curr-position (.. e -state -position)\n                     prev-position @(.-!position history)]\n                 (reset! (.-!position history) curr-position)\n                 (let [delta (nav-delta stack prev-position curr-position)]\n                   (cond\n                     @!idle (reset! !idle false)\n                     (confirm-navigation? e) (OnBeforeNavigate!.)\n                     :else (do (reset! !idle true)\n                               (.. js/window -history (go (- delta)))))))))\n\n           (catch hyperfiddle.electric.Pending _)) ; temporary hack, fixes page reload on click, needs sync on dom/on, hf/branch, and Pending interaction\n         (e/watch !idle)))\n\n     (e/defn HTML5-History [] ; TODO make this flow a singleton (leverage m/signal in next reactor iteration)\n       (let [history (html5-history encode decode)\n             decode' decode]\n         (when-not (HTML5-Navigation-Intents. history) ; idles history while user confirms navigation\n           (new (m/observe (fn [!]\n                             (! nil)\n                             (let [f (fn [_e] (reset! (-html5-history-get-state history) (decode' (html5-path))))]\n                               (f nil)\n                               (.addEventListener js/window \"popstate\" f)\n                               #(.removeEventListener js/window \"popstate\" f))))))\n         history))\n\n     ))\n","~:reader-features",["^M",["~:cljs"]],"~:cljc",true,"~:source-map-compact",["^ ","mappings","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","names",["hyperfiddle$history$IHistory$navigate_BANG_$dyn","x__5393__auto__","m__5394__auto__","hyperfiddle.history/navigate!","goog/typeOf","m__5392__auto__","cljs.core/missing-protocol","hyperfiddle$history$IHistory$back_BANG_$dyn","hyperfiddle.history/back!","hyperfiddle$history$IHistory$forward_BANG_$dyn","hyperfiddle.history/forward!","hyperfiddle$history$IHistory$replace_state_BANG_$dyn","hyperfiddle.history/replace-state!","hyperfiddle.history/IHistory","this","route","new-state","p__35532","vec__35533","cljs.core.nth","hyperfiddle.history/updatef","history","idx","f","cljs.core.update","p__35539","vec__35540","hyperfiddle.history/notify-watches","oldstate","newstate","oldval","cljs.core.apply","cljs.core/get","newval","seq__35543","cljs.core/seq","cljs.core/deref","chunk__35544","count__35545","i__35546","vec__35553","temp__5804__auto__","cljs.core/chunked-seq?","c__5568__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","vec__35556","cljs.core/first","cljs.core/next","key","callback","this__5343__auto__","k__5344__auto__","this__5345__auto__","k35563","else__5346__auto__","G__35567","cljs.core/Keyword","state","watches","max-size","cljs.core.get","__extmap","this__5363__auto__","f__5364__auto__","init__5365__auto__","cljs.core.reduce","ret__5366__auto__","p__35568","vec__35569","k__5367__auto__","v__5368__auto__","this__5358__auto__","writer__5359__auto__","opts__5360__auto__","pr-pair__5361__auto__","keyval__5362__auto__","cljs.core/pr-sequential-writer","cljs.core.concat","cljs.core/PersistentVector","G__35562","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__5341__auto__","__meta","this__5338__auto__","__hash","this__5347__auto__","this__5339__auto__","h__5154__auto__","coll__5340__auto__","cljs.core/hash-unordered-coll","this35564","other35565","cljs.core._EQ_","this__5353__auto__","k__5354__auto__","cljs.core/contains?","cljs.core.dissoc","cljs.core/-with-meta","cljs.core.into","cljs.core/not-empty","this__5350__auto__","G__35572","this__5351__auto__","k__5352__auto__","pred__35573","cljs.core/keyword-identical?","expr__35574","cljs.core.assoc","this__5356__auto__","cljs.core/MapEntry","this__5342__auto__","this__5348__auto__","entry__5349__auto__","cljs.core/vector?","cljs.core/-nth","cljs.core/-conj","hyperfiddle.history/AtomHistory","this__5389__auto__","cljs.core/List","writer__5390__auto__","cljs.core/-write","G__35566","extmap__5385__auto__","G__35579","cljs.core/record?","hyperfiddle.history/->AtomHistory","hyperfiddle.history/map->AtomHistory","cljs.core.swap_vals_BANG_","arg","p1__35559#","arg1","arg2","p1__35560#","x","y","args","p1__35561#","cljs.core/constantly","cljs.core.swap_BANG_","cljs.core/assoc","_","cljs.core/dissoc","vec__35576","cljs.core/PROTOCOL_SENTINEL","p__35580","vec__35581","cljs.core.conj","cljs.core.subvec","p__35584","vec__35585","x__5130__auto__","y__5131__auto__","p__35588","vec__35589","x__5133__auto__","y__5134__auto__","cljs.core/reset!","var_args","G__35593","hyperfiddle.history/atom-history","js/Error","hyperfiddle.history.atom_history","initial-state","cljs.core.atom","k35595","G__35599","parent","p__35600","vec__35601","G__35594","this35596","other35597","G__35604","pred__35605","expr__35606","hyperfiddle.history/ProxyHistory","G__35598","G__35608","hyperfiddle.history/->ProxyHistory","hyperfiddle.history/map->ProxyHistory","cljs.core/swap!","cljs.core/add-watch","cljs.core/remove-watch","G__35610","hyperfiddle.history/proxy-history","hyperfiddle.history.proxy_history","hyperfiddle.history/history?","h","and__5043__auto__","cljs.core/native-satisfies?","cljs.core/IAtom","args__5775__auto__","len__5769__auto__","i__5770__auto__","argseq__5776__auto__","cljs.core/IndexedSeq","hyperfiddle.history/update-in*","seq35612","G__35613","G__35614","G__35615","self__5754__auto__","m","path","cljs.core/empty?","cljs.core/update-in","hyperfiddle.history/check-route!","cljs.core/associative?","hyperfiddle.history/default-platform-history","hyperfiddle.history/cleanup-on-unmount","hyperfiddle.history.update_in_STAR_","cljs.core/butlast","cljs.core/last","hyperfiddle.history/on-link-click","next-route","e","node","target","cljs.core.not_EQ_","hyperfiddle.history/absolute","clojure.string/replace-first","hyperfiddle.history/throttler","rate-ms","!nextf","!running","js/window","nextf","rec","throttle","hyperfiddle.history/replaceState!","js/window.history","hyperfiddle.history/history-entry-uid","cljs.core.partial","js/Date","cljs.core/inc","hyperfiddle.history/html5-pushState!","next-position","hyperfiddle.history/html5-back!","hyperfiddle.history/html5-forward!","hyperfiddle.history/html5-location","hyperfiddle.history/html5-path","loc","hyperfiddle.history/index-of","xs","val","G__35631","vec__35632","seq__35633","first__35634","vec__35635","seq__35636","first__35637","i","k35639","G__35643","encode","decode","!state","!stack","!position","p__35644","vec__35645","G__35638","this35640","other35641","G__35651","pred__35652","expr__35653","hyperfiddle.history/HTML5History","G__35642","G__35658","hyperfiddle.history/->HTML5History","hyperfiddle.history/map->HTML5History","vec__35648","_oldval","p1__35625#","p1__35626#","p1__35627#","prev-position","stack","index","G__35655","pos","G__35656","G__35657","hyperfiddle.history/html5-history","position","or__5045__auto__","temp__5802__auto__","array","clojure.edn.read_string","cljs.core.pr_str","G__35659","hyperfiddle.history/-html5-history-get-state","hyperfiddle.history/nav-delta","curr-position"]],"~:used-vars",["^M",["~$clojure.string/replace-first","~$hyperfiddle.history/build-route","~$cljs.core/PROTOCOL_SENTINEL","~$hyperfiddle.history/history","~$hyperfiddle.history/ProxyHistory","~$hyperfiddle.history/absolute","~$cljs.core/IAtom","~$cljs.core/pr-sequential-writer","~$clojure.edn/read-string","~$cljs.core/vector?","~$cljs.core/=","~$hyperfiddle.history/IHistory","~$hyperfiddle.history/forward!","~$js/Date","~$cljs.core/-assoc","~$cljs.core/partial","~$cljs.core/-write","~$cljs.core/IndexedSeq","~$hyperfiddle.history/atom-history","~$cljs.core/-iterator","~$hyperfiddle.history/confirm-navigation?","~$cljs.core/count","~$cljs.core/deref","~$hyperfiddle.history/html5-history","~$goog/typeOf","~$cljs.core/reduce","~$cljs.core/seq","~$hyperfiddle.history/history?","~$cljs.core/chunk-first","~$hyperfiddle.history/html5-location","~$cljs.core/apply","~$cljs.core/Keyword","~$hyperfiddle.history/replaceState!","~$cljs.core/associative?","~$cljs.core/last","~$cljs.core/not=","~$cljs.core/MapEntry","~$cljs.core/dissoc","~$hyperfiddle.history/check-route!","~$cljs.core/keyword-identical?","~$hyperfiddle.history/->ProxyHistory","~$cljs.core/chunk-rest","~$cljs.core/atom","~$cljs.core/-with-meta","~$hyperfiddle.history/route","~$cljs.core/concat","~$hyperfiddle.history/HTML5-History","~$cljs.core/pr-str","~$hyperfiddle.history/HTML5History","~$hyperfiddle.history/updatef","~$hyperfiddle.history/swap-route!","~$hyperfiddle.history/map->HTML5History","~$cljs.core/native-satisfies?","~$cljs.core/empty?","~$hyperfiddle.history/default-platform-history","~$cljs.core/-swap!","~$hyperfiddle.history/->HTML5History","~$cljs.core/contains?","~$cljs.core/into","~$cljs.core/reset!","~$cljs.core/conj","~$cljs.core/-conj","~$cljs.core/update","~$hyperfiddle.history/html5-forward!","~$cljs.core/PersistentVector","~$hyperfiddle.history/on-link-click","~$hyperfiddle.history/map->ProxyHistory","~$cljs.core/List","~$cljs.core/swap!","~$hyperfiddle.history/path","~$cljs.core/get","~$cljs.core/constantly","~$hyperfiddle.history/OnBeforeNavigate!","~$cljs.core/-nth","~$hyperfiddle.history/encode","~$hyperfiddle.history/->AtomHistory","~$hyperfiddle.history/html5-pushState!","~$cljs.core/not-empty","~$hyperfiddle.history/proxy-history","~$hyperfiddle.history/index-of","~$hyperfiddle.history/back!","~$hyperfiddle.history/HTML5-Navigation-Intents","~$hyperfiddle.history/!history","~$cljs.core/record?","~$cljs.core/missing-protocol","~$hyperfiddle.history/decode","~$cljs.core/subvec","~$cljs.core/-lookup","~$cljs.core/nth","~$hyperfiddle.history/map->AtomHistory","~$hyperfiddle.history/nav-delta","~$hyperfiddle.history/html5-back!","~$cljs.core/nil-iter","~$cljs.core/next","~$cljs.core/RecordIter","~$hyperfiddle.history/notify-watches","~$hyperfiddle.history/html5-path","~$cljs.core/not","~$hyperfiddle.history/history-entry-uid","~$cljs.core/assoc","~$cljs.core/swap-vals!","~$hyperfiddle.history/Link","~$hyperfiddle.history/-html5-history-get-state","~$cljs.core/hash-unordered-coll","~$hyperfiddle.history/replace-state!","~$hyperfiddle.history/AtomHistory","~$cljs.core/first","~$cljs.core/butlast","~$js/window","~$hyperfiddle.history/throttler","~$hyperfiddle.history/cleanup-on-unmount","~$js/window.history","~$hyperfiddle.history/navigate!","~$hyperfiddle.history/update-in*","~$cljs.core/update-in","~$js/Error","~$cljs.core/inc","~$cljs.core/add-watch","~$cljs.core/remove-watch","~$cljs.core/chunked-seq?"]]],"~:cache-keys",["~#cmap",[["^1L","hyperfiddle/electric/impl/array_fields.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^M",[]],"~:deps-syms",["^18","^E","^J"]]],["^1L","goog/dom/tagname.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.dom.HtmlElement"]]],["^1L","missionary/Cancelled.js"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","goog/labs/useragent/platform.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.string.internal","~$goog.labs.userAgent.util"]]],["^1L","cljs/tools/reader/impl/utils.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^1=","~$goog.string"]]],["^1L","goog/math/math.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.asserts"]]],["^1L","goog/html/trustedtypes.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","hyperfiddle/electric/impl/for.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$hyperfiddle.electric.impl.gather","~$hyperfiddle.electric.impl.eventually","~$hyperfiddle.electric.impl.runtime","^17","^J","^1=","~$missionary.Cancelled","~$hyperfiddle.electric.Failure"]]],["^1L","cljs/env.cljc"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","hyperfiddle/electric_client.cljs"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^H","^17","^4Y","~$hyperfiddle.electric.impl.io","^4Z"]]],["^1L","goog/labs/useragent/browser.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.array","~$goog.object","^4T","^4S"]]],["^1L","goog/html/safeurl.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.i18n.bidi.Dir","~$goog.i18n.bidi.DirectionalString","~$goog.string.Const","~$goog.string.TypedString","^4S"]]],["^1L","cljs/analyzer/impl/namespaces.cljc"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","missionary/impl/Semaphore.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","goog/style/style.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","~$goog.dom","~$goog.dom.NodeType","~$goog.dom.TagName","~$goog.dom.safe","~$goog.dom.vendor","~$goog.html.SafeStyleSheet","~$goog.math.Box","~$goog.math.Coordinate","~$goog.math.Rect","~$goog.math.Size","^52","~$goog.reflect","^4U","~$goog.userAgent","~$goog.events.Event"]]],["^1L","goog/array/array.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V"]]],["^1L","goog/useragent/useragent.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^4T","^5C","^4S"]]],["^1L","com/cognitect/transit/impl/reader.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$com.cognitect.transit.impl.decoder","~$com.cognitect.transit.caching"]]],["^1L","goog/debug/error.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","missionary/impl/Reactor.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","hyperfiddle/electric/impl/eventually.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","missionary/core.cljc"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$cloroutine.core","~$missionary.impl.Reduce","~$missionary.impl.Reductions","~$missionary.impl.GroupBy","~$missionary.impl.Relieve","~$missionary.impl.Latest","~$missionary.impl.Sample","~$missionary.impl.Reactor","~$missionary.impl.Fiber","~$missionary.impl.Sequential","~$missionary.impl.Ambiguous","~$missionary.impl.Continuous","~$missionary.impl.Watch","~$missionary.impl.Observe","~$missionary.impl.Buffer","~$missionary.impl.Rendezvous","~$missionary.impl.Dataflow","~$missionary.impl.Mailbox","~$missionary.impl.Semaphore","~$missionary.impl.RaceJoin","~$missionary.impl.Sleep","~$missionary.impl.Never","~$missionary.impl.Seed","~$missionary.impl.Eduction","~$missionary.impl.Zip"]]],["^1L","hyperfiddle/electric/impl/runtime.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$hyperfiddle.electric.impl.yield2","~$hyperfiddle.electric.impl.failer","~$hyperfiddle.electric.impl.local","~$hyperfiddle.electric.impl.ir","~$hyperfiddle.electric.debug","^17","^J","^1=","~$contrib.data","^4Z","^4[","~$hyperfiddle.electric.Pending","~$hyperfiddle.electric.Remote"]]],["^1L","cljs/tools/reader/edn.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$cljs.tools.reader.impl.errors","~$cljs.tools.reader.reader-types","~$cljs.tools.reader.impl.utils","~$cljs.tools.reader.impl.commons","~$cljs.tools.reader","^4U","~$goog.string.StringBuffer"]]],["^1L","missionary/impl/Seed.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","goog/dom/nodetype.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","hyperfiddle/electric_dom2.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$contrib.missionary-contrib","^59","^52","~$goog.style","^1:","^17","^1=","^6=","^J","^6>"]]],["^1L","hyperfiddle/rcf.cljc"],["2aeb2e1ec9693bc3a2e33cd73bb782d4a0614395","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$cljs.test","^1=","~$hyperfiddle.rcf.reporters","~$hyperfiddle.rcf.queue","~$hyperfiddle.rcf.time","~$hyperfiddle.rcf.unify"]]],["^1L","cljs/tools/reader/impl/inspect.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","com/cognitect/transit/util.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^52"]]],["^1L","hyperfiddle/electric/Pending.js"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","cljs/pprint.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^1=","^4U","^6E"]]],["^1L","missionary/impl/RaceJoin.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","cljs/tools/reader.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^6A","^6B","^6C","^6@","^51","^4U","^6E"]]],["^1L","hyperfiddle/electric/impl/io.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^17","~$cognitect.transit","^6<","^J","~$com.cognitect.transit.types","~$hyperfiddle.electric.impl.array-fields","^4Z","^4[","^6>","^6?","~$hyperfiddle.electric.FailureInfo"]]],["^1L","goog/disposable/disposable.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.disposable.IDisposable","~$goog.dispose","~$goog.disposeAll"]]],["^1L","goog/string/typedstring.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","cloroutine/core.cljc"],["178f3a4f51830ad87c5f6a0f0bef14aa6108844d","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$cloroutine.impl"]]],["^1L","hyperfiddle/electric.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^E","^6=","^H","^6F","~$hyperfiddle.electric.impl.compiler","^4Y","~$hyperfiddle.electric.impl.for","^17","~$hyperfiddle.electric-client","^50","^6<","^6>","^4[","^6P","^4Z"]]],["^1L","goog/object/object.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","goog/dom/asserts.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V"]]],"~:SHADOW-TIMESTAMP",[1677656185000,1677656185000,1674331854000],["^1L","missionary/impl/Sequential.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^5S","^4Z"]]],["^1L","missionary/impl/Ambiguous.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^5S","^4Z"]]],["^1L","missionary/impl/Watch.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","goog/math/long.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","^5C"]]],["^1L","missionary/impl/Eduction.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/html/trustedresourceurl.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","~$goog.fs.blob","^53","~$goog.html.SafeScript","~$goog.html.trustedtypes","^55","^56","^57","^58"]]],["^1L","missionary/impl/Latest.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$missionary.impl.Heap"]]],["^1L","goog/math/irect.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","missionary/impl/Sample.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/events/eventid.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","cljs/analyzer/passes/and_or.cljc"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$cljs.analyzer.passes"]]],["^1L","goog/math/box.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","^5@"]]],["^1L","goog/string/internal.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","missionary/impl/Relieve.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","missionary/impl/GroupBy.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","goog/functions/functions.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","hyperfiddle/electric/Remote.js"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","missionary/impl/Zip.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/html/safestyle.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^57","~$goog.html.SafeUrl","^58","^4V","^4S"]]],["^1L","goog/dom/safe.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","^6Z","~$goog.html.SafeStyle","^72","^54","~$goog.html.uncheckedconversions","^57","^4S"]]],["^1L","contrib/data.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^C","~$clojure.datafy","^J"]]],["^1L","missionary/impl/Buffer.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","clojure/walk.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","com/cognitect/transit/delimiters.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","cljs/analyzer/passes.cljc"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/html/safehtml.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^57","^55","^56","^6Z","^76","^5>","^72","^5;","^54","^58","^4V","^5F","^51","^52","^4S","~$goog.dom.tags","^6["]]],["^1L","cljs/math.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/dom/tags.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^52"]]],["^1L","hyperfiddle/electric/impl/ir.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/math/size.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","missionary/impl/Continuous.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^5S","^4Z"]]],["^1L","missionary/impl/Reduce.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","hyperfiddle/electric/impl/gather.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^69"]]],["^1L","goog/labs/useragent/engine.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^51","^4S","^4T"]]],["^1L","hyperfiddle/rcf/time.cljc"],["2aeb2e1ec9693bc3a2e33cd73bb782d4a0614395","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","com/cognitect/transit/impl/decoder.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$com.cognitect.transit.util","~$com.cognitect.transit.delimiters","^5J","^6N"]]],["^1L","goog/fs/blob.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","cljs/reader.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^52","^6D","~$cljs.tools.reader.edn","^6E"]]],["^1L","missionary/impl/Dataflow.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","missionary/impl/Mailbox.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","goog/dom/dom.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^51","^4V","~$goog.dom.BrowserFeature","^5:","^5;","^5<","^75","^77","^5@","^5B","^52","^4U","^57","~$goog.string.Unicode","^5D"]]],["^1L","goog/asserts/asserts.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.debug.Error","^5:"]]],["^1L","hyperfiddle/electric/impl/yield2.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z","^J","^6O","^17"]]],["^1L","goog/math/rect.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","^5?","^5@","~$goog.math.IRect","^5B"]]],["^1L","cljs/tagged_literals.cljc"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$cljs.reader"]]],["^1L","contrib/missionary_contrib.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^17","^J"]]],["^1L","goog/uri/uri.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^51","^4V","~$goog.collections.maps","^4U","~$goog.structs","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^1L","goog/collections/maps.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","cloroutine/impl.cljc"],["178f3a4f51830ad87c5f6a0f0bef14aa6108844d","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$cljs.analyzer","~$cljs.env"]]],["^1L","contrib/cljs_target.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^52"]]],["^1L","goog/i18n/bidi.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","clojure/edn.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^7A"]]],["^1L","missionary/impl/Observe.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","clojure/core/protocols.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/disposable/idisposable.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","goog/fs/url.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","goog/base.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",[]]],["^1L","goog/structs/structs.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^51","^52"]]],["^1L","cljs/tools/reader/impl/errors.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^6A","^1=","~$cljs.tools.reader.impl.inspect"]]],["^1L","goog/disposable/dispose.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","missionary/impl/Rendezvous.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","clojure/string.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4U","^6E"]]],["^1L","missionary/impl/Reductions.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","com/cognitect/transit/handlers.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^7:","^6N","~$goog.math.Long"]]],["^1L","goog/string/string.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^5<","^77","^57","^4S"]]],["^1L","com/cognitect/transit/types.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^7:","~$com.cognitect.transit.eq","^7J"]]],["^1L","missionary/impl/Sleep.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","hyperfiddle/rcf/queue.cljs"],["2aeb2e1ec9693bc3a2e33cd73bb782d4a0614395","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^6K"]]],["^1L","goog/reflect/reflect.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","goog/labs/useragent/util.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.labs.userAgent","^4S"]]],["^1L","com/cognitect/transit/eq.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^7:"]]],["^1L","goog/string/stringbuffer.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","goog/math/coordinate.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.math"]]],["^1L","cljs/tools/reader/reader_types.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^6B","^4U","^6E"]]],["^1L","missionary/impl/Heap.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/labs/useragent/useragent.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","hyperfiddle/electric/impl/compiler.cljs"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","hyperfiddle/electric/impl/failer.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","missionary/impl/Fiber.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/html/uncheckedconversions.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","^75","^6Z","^76","^5>","^72","^54","^57","^4S","^55"]]],["^1L","hyperfiddle/rcf/unify.cljc"],["2aeb2e1ec9693bc3a2e33cd73bb782d4a0614395","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$clojure.walk","~$clojure.set"]]],["^1L","com/cognitect/transit/caching.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^7;"]]],["^1L","hyperfiddle/electric/debug.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^1=","^6=","^J","^4[","^6>","^4Z","^6P"]]],["^1L","goog/events/event.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","~$goog.Disposable","~$goog.events.EventId"]]],["^1L","cljs/tools/reader/impl/commons.cljs"],["927809dcb44fa726e4969d993e3e733636d95ebb","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^6@","^6A","^6B"]]],["^1L","hyperfiddle/history.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^H","^J","^1:","^15","^17","^1;","^1="]]],["^1L","goog/dom/htmlelement.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","cljs/core.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^7J","~$goog.math.Integer","^4U","^52","^51","~$goog.Uri","^6E"]]],["^1L","com/cognitect/transit.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^7:","~$com.cognitect.transit.impl.reader","~$com.cognitect.transit.impl.writer","^6N","^7K","^5I","^5J"]]],["^1L","goog/html/safescript.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^57","^58","^6[","^4V"]]],["^1L","goog/html/safestylesheet.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^57","^76","^58","^52","^4V","^4S"]]],["^1L","goog/math/integer.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^5C"]]],["^1L","hyperfiddle/electric/Failure.js"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]],["^1L","goog/dom/browserfeature.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^5D"]]],["^1L","clojure/set.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","goog/uri/utils.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","^4U"]]],["^1L","goog/string/const.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4V","^58"]]],["^1L","goog/disposable/disposeall.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^6R"]]],["^1L","cljs/analyzer.cljc"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$cljs.analyzer.impl","~$cljs.analyzer.impl.namespaces","~$cljs.analyzer.passes.and-or","^7H","^7A","~$cljs.tagged-literals","^6D","^6A","^7O","^1=","^4U"]]],["^1L","goog/dom/vendor.js"],["e7c400433b3c1fadb574d4cc5a65cddccff5500f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^4U","^5D"]]],["^1L","clojure/datafy.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","~$clojure.core.protocols"]]],["^1L","hyperfiddle/rcf/reporters.cljs"],["2aeb2e1ec9693bc3a2e33cd73bb782d4a0614395","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^6H"]]],["^1L","com/cognitect/transit/impl/writer.js"],["f8b4f570ca4d41649190efecac27a5932cc11429","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^7:","^5J","~$com.cognitect.transit.handlers","^6N","^7;","^7J"]]],["^1L","cljs/test.cljs"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^1=","^?"]]],["^1L","hyperfiddle/electric/impl/local.cljc"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","cljs/analyzer/impl.cljc"],["bc14df6666853ed869d7b88aaa864111c65d0c7f","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E"]]],["^1L","cognitect/transit.cljs"],["98d11d81caee82f97b9417025750b785fb6ecb16","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^7O","~$com.cognitect.transit","^6N","^7K","^52","^7J"]]],["^1L","missionary/impl/Never.cljs"],["b9821cff112a419498afb6330bfabf7bf58e36dd","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18","^E","^4Z"]]],["^1L","hyperfiddle/electric/FailureInfo.js"],["55714fd08eb8e48d7afc653f0924e5d8cce25a77","^4N",["^ ","^4O",null,"^4P",["^M",[]],"^4Q",["^18"]]]]],"~:clj-info",["^ ","jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/local.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/source_map.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/gather.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.analyzer/1.1.1/tools.analyzer-1.1.1.jar!/clojure/tools/analyzer/passes/emit_form.clj",1691052514000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.logging/1.2.4/tools.logging-1.2.4.jar!/clojure/tools/logging.clj",1677656081000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/passes.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/template.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/reader_types.clj",1674331770000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/string.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/env.clj",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/cljs/tools/reader/reader_types.clj",1674331770000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/default_data_readers.clj",1674331770000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader/impl/errors.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/env.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.logging/1.2.4/tools.logging-1.2.4.jar!/clojure/tools/logging/impl.clj",1677656081000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/contrib/cljs_target.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/api.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/reader.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.analyzer/1.1.1/tools.analyzer-1.1.1.jar!/clojure/tools/analyzer/utils.clj",1691052514000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/rcf/20220926-202227/rcf-20220926-202227.jar!/hyperfiddle/rcf/impl.clj",1677656082000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/macros.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/instant.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/js_deps.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/tagged_literals.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/externs.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/util.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/pprint.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/cognitect/transit-clj/1.0.329/transit-clj-1.0.329.jar!/cognitect/transit.clj",1674332080000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/test.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/rcf/20220926-202227/rcf-20220926-202227.jar!/hyperfiddle/rcf/unify.cljc",1677656082000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/rcf/20220926-202227/rcf-20220926-202227.jar!/hyperfiddle/rcf/time.cljc",1677656082000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/pprint.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/impl/inspect.clj",1674331770000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/test.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader/default_data_readers.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/missionary/missionary/b.28/missionary-b.28.jar!/missionary/core.cljc",1678884165000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/source_map/base64.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/io.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader/impl/inspect.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/data/json.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/passes/and_or.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader.clj",1674331770000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/set.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/rcf/20220926-202227/rcf-20220926-202227.jar!/hyperfiddle/rcf/analyzer.clj",1677656082000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/walk.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/contrib/missionary_contrib.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/source_map/base64_vlq.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/core.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/debug.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/cloroutine/cloroutine/11/cloroutine-11.jar!/cloroutine/impl.cljc",1678884165000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/yield2.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.analyzer/1.1.1/tools.analyzer-1.1.1.jar!/clojure/tools/analyzer/ast.clj",1691052514000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/impl.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/compiler.clj",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/edn.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/core.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/env/macros.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/array_fields.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.3/tools.analyzer.jvm-1.2.3.jar!/clojure/tools/analyzer/jvm/utils.clj",1691052514000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/stacktrace.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader/reader_types.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.reader/1.3.6/tools.reader-1.3.6.jar!/clojure/tools/reader/impl/errors.clj",1674331770000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/compiler.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/failer.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/rcf/20220926-202227/rcf-20220926-202227.jar!/hyperfiddle/rcf.cljc",1677656082000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/vendor/clojure/tools/reader.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/reflect.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/rcf/20220926-202227/rcf-20220926-202227.jar!/hyperfiddle/rcf/queue.clj",1677656082000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojure/1.11.1/clojure-1.11.1.jar!/clojure/java/io.clj",1669480727000,"jar:file:/Users/bariscanates/.m2/repository/cloroutine/cloroutine/11/cloroutine-11.jar!/cloroutine/core.cljc",1678884165000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.analyzer/1.1.1/tools.analyzer-1.1.1.jar!/clojure/tools/analyzer/env.clj",1691052514000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/analyzer.clj",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.3/tools.analyzer.jvm-1.2.3.jar!/clojure/tools/analyzer/passes/jvm/emit_form.clj",1691052514000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/contrib/data.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/runtime.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/instant.clj",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric_dom2.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/history.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/com/hyperfiddle/electric/v2-alpha-349-ge9996713/electric-v2-alpha-349-ge9996713.jar!/hyperfiddle/electric/impl/ir.cljc",1691052515000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/clojurescript/1.11.60/clojurescript-1.11.60.jar!/cljs/analyzer/impl/namespaces.cljc",1674331854000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.analyzer/1.1.1/tools.analyzer-1.1.1.jar!/clojure/tools/analyzer.clj",1691052514000,"jar:file:/Users/bariscanates/.m2/repository/org/clojure/tools.analyzer.jvm/1.2.3/tools.analyzer.jvm-1.2.3.jar!/clojure/tools/analyzer/jvm.clj",1691052514000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","hyperfiddle/history.cljc","^7",1,"^8",5,"^9",1,"^:",24],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C","^D","^E"],"~:shadow/protocol-prefixes",["^M",["hyperfiddle$history$IHistory$"]],"^F",["^ ","^G","^H","^I","^J","^K","^J"],"^L",["^M",[]],"^N",["^ ","^O",["^ ","^P",["^Q",[["^R","~$&","^S"]]],"^T","\n  Evaluates `body` in a routing context, in which:\n  - `route` is bound to the current history state,\n  - `swap-route!` will set the current route (does not trigger a navigation),\n  - `link` will render a dom anchor triggering a soft navigation in the current history.\n\n  `router` expressions can nest, in which case the current route is scoped.\n  Page components can therfore safely route locally without conflicting while\n  still supporting global back and forward navigation.\n\n  Takes as first argument, either:\n  - an `IHistory` instance - typically at the root of your program.\n  - an ident (keyword or symbol) to focus on a child route scope.\n  - `nil` will pick the default `IHistory` instance for the current\n    platform (Browser history or in-memory atom)\n\n  Usage:\n  ```\n  (router nil                         ; pick default router\n     (link {::page ::b} (dom/text \"Go to Page B\"))\n     (case (::page route)\n       ::b (dom/text \"you are on page b\")\n       ::c (dom/text \"you are on page c\"))\n     (router ::subpage\n       (swap-route! assoc :key :value) ; typically a consequence of a user action\n       (link {::page ::c} (dom/text \"Go to Page C\"))))\n  ```\n\n  Advanced use case: a nested `router` call can redefine the history in which\n  case navigation will occur locally. Note the browser history is a singleton,\n  so navigation always occur at the page level. Binding the same history\n  instance twice is a noop.","^7",286,"^8",1,"^6","hyperfiddle/history.cljc","^U","^V","^W","^X","^Y",true],"^Z",["^ ","^P",["^Q",[["^[","~$&","^S"]]],"^7",435,"^8",1,"^6","hyperfiddle/history.cljc","^U","^10","^W","^X","^Y",true]],"~:shadow/js-access-properties",["^M",["hyperfiddle_history_route","hyperfiddle_history_route_external_nav","history"]],"^U","^X","^11",["^ "],"^13",null,"^14",["^ ","^15","^15","^16","^15","^17","^17","^H","^H","^E","^E","^18","^18","~$m","^17","^J","^J","^19","^J","~$e","^1:","^1;","^1;","^1<","^1=","^1=","^1=","^1>","^1;","^1:","^1:"],"^1?",["^M",["^1@","^1A"]],"~:shadow/js-access-global",["^M",["window","Date","Error"]],"^1B",["^ ","^G","^H","^I","^J","~$%","^J","^1C","^J","^K","^J"],"~:defs",["^ ","~$map->AtomHistory",["^ ","~:protocol-inline",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^:",26,"^8",15,"~:internal-ctor",true,"~:factory","~:map","^7",99,"^9",99,"^P",["^Q",["~$quote",["^Q",[["~$G__35566"]]]]],"^T","Factory function for hyperfiddle.history/AtomHistory, taking a map of keywords to field values."],"^U","^3Y","^6","hyperfiddle/history.cljc","^:",26,"~:method-params",["^Q",[["^:9"]]],"~:protocol-impl",null,"~:arglists-meta",["^Q",[null,null]],"^8",4,"^:5",true,"~:variadic?",false,"^:6","^:7","^7",99,"~:ret-tag","^4=","^9",99,"~:max-fixed-arity",1,"~:fn-var",true,"^P",["^Q",["^:8",["^Q",[["^:9"]]]]],"^T","Factory function for hyperfiddle.history/AtomHistory, taking a map of keywords to field values."],"~$OnBeforeNavigate!",["^ ","^5",["^ ","^6","hyperfiddle/history.cljc","^7",599,"^8",14,"^9",599,"^:",31,"^P",["^Q",["^:8",["^Q",[[]]]]],"^T","Run for effect on history navigation","~:hyperfiddle.electric.impl.compiler/node",["^Q",["~$hyperfiddle.electric/fn","^:A",[]]]],"^U","^3H","^6","hyperfiddle/history.cljc","^:",31,"^8",6,"^:B",["^Q",["^:C","^:A",[]]],"^7",599,"^9",599,"^P",["^Q",["^:8",["^Q",[[]]]]],"^T","Run for effect on history navigation"],"~$html5-pushState!",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",497,"^8",12,"^9",497,"^:",28,"^P",["^Q",["^:8",["^Q",[["~$next-position","~$path"]]]]]],"^U","^3L","^6","hyperfiddle/history.cljc","^:",28,"^::",["^Q",[["^:E","^:F"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:=",false,"^7",497,"^:>","~$js","^9",497,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^:E","^:F"]]]]]],"~$proxy-history",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",198,"^8",7,"^9",198,"^:",20,"^P",["^Q",["^:8",["^Q",[["~$parent"],["^:I","~$initial-state"]]]]],"^T","Return a new IHistory instance backed by an atom.\n  History state is stored in an atom.\n  Navigation is forwarded to the `parent` history.\n  Initial state is provided with `initial-state`. ","~:top-fn",["^ ","^:=",false,"~:fixed-arity",2,"^:?",2,"^::",[["^:I"],["^:I","^:J"]],"^P",["^Q",[["^:I"],["^:I","^:J"]]],"^:<",["^Q",[null,null]]]],"^U","^3N","^6","hyperfiddle/history.cljc","^:",20,"^:K",["^ ","^:=",false,"^:L",2,"^:?",2,"^::",[["^:I"],["^:I","^:J"]],"^P",["^Q",[["^:I"],["^:I","^:J"]]],"^:<",["^Q",[null,null]]],"^::",[["^:I"],["^:I","^:J"]],"^:;",null,"^:L",2,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"~:methods",[["^ ","^:L",1,"^:=",false,"~:tag","~$any"],["^ ","^:L",2,"^:=",false,"^:N","^20"]],"^7",198,"^9",198,"^:?",2,"^:@",true,"^P",["^Q",[["^:I"],["^:I","^:J"]]],"^T","Return a new IHistory instance backed by an atom.\n  History state is stored in an atom.\n  Navigation is forwarded to the `parent` history.\n  Initial state is provided with `initial-state`. "],"~$encode",["^ ","^U","^3J","^6","hyperfiddle/history.cljc","^7",403,"^8",1,"^9",403,"^:",14,"^:B","~$identity","^5",["^ ","^6","hyperfiddle/history.cljc","^7",403,"^8",8,"^9",403,"^:",14,"^:B","^:Q"]],"~$on-link-click",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",411,"^8",10,"^9",411,"^:",23,"^P",["^Q",["^:8",["^Q",[["~$next-route","~$e"]]]]]],"^U","^3A","^6","hyperfiddle/history.cljc","^:",23,"^::",["^Q",[["^:S","~$e"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",4,"^:=",false,"^7",411,"^:>","~$clj-nil","^9",411,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^:S","~$e"]]]]]],"~$html5-forward!",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",499,"^8",12,"^9",499,"^:",26,"^P",["^Q",["^:8",["^Q",[[]]]]]],"^U","^3?","^6","hyperfiddle/history.cljc","^:",26,"^::",["^Q",[[]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:=",false,"^7",499,"^:>","^:G","^9",499,"^:?",0,"^:@",true,"^P",["^Q",["^:8",["^Q",[[]]]]]],"~$map->ProxyHistory",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^:",27,"^8",15,"^:5",true,"^:6","^:7","^7",170,"^9",170,"^P",["^Q",["^:8",["^Q",[["~$G__35598"]]]]],"^T","Factory function for hyperfiddle.history/ProxyHistory, taking a map of keywords to field values."],"^U","^3B","^6","hyperfiddle/history.cljc","^:",27,"^::",["^Q",[["^:W"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",4,"^:5",true,"^:=",false,"^:6","^:7","^7",170,"^:>","^20","^9",170,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^:W"]]]]],"^T","Factory function for hyperfiddle.history/ProxyHistory, taking a map of keywords to field values."],"~$->HTML5History",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^:",29,"^8",17,"^:5",true,"^:6","~:positional","^7",514,"^9",514,"^P",["^Q",["^:8",["^Q",[["^:P","~$decode","~$!state","~$!stack","~$!position"]]]]],"^T","Positional factory function for hyperfiddle.history/HTML5History."],"^U","^38","^6","hyperfiddle/history.cljc","^:",29,"^::",["^Q",[["^:P","^:Z","^:[","^;0","^;1"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:5",true,"^:=",false,"^:6","^:Y","^7",514,"^:>","^30","^9",514,"^:?",5,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^:P","^:Z","^:[","^;0","^;1"]]]]],"^T","Positional factory function for hyperfiddle.history/HTML5History."],"~$nav-delta",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",606,"^8",15,"^9",606,"^:",24,"^P",["^Q",["^:8",["^Q",[["~$stack","~$prev-position","~$curr-position"]]]]]],"^U","^3Z","^6","hyperfiddle/history.cljc","^:",24,"^::",["^Q",[["^;3","^;4","^;5"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",9,"^:=",false,"^7",606,"^:>","~$number","^9",606,"^:?",3,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^;3","^;4","^;5"]]]]]],"~$html5-back!",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",498,"^8",12,"^9",498,"^:",23,"^P",["^Q",["^:8",["^Q",[[]]]]]],"^U","^3[","^6","hyperfiddle/history.cljc","^:",23,"^::",["^Q",[[]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:=",false,"^7",498,"^:>","^:G","^9",498,"^:?",0,"^:@",true,"^P",["^Q",["^:8",["^Q",[[]]]]]],"~$->AtomHistory",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^:",26,"^8",15,"^:5",true,"^:6","^:Y","^7",99,"^9",99,"^P",["^Q",["^:8",["^Q",[["~$state","~$watches","~$max-size"]]]]],"^T","Positional factory function for hyperfiddle.history/AtomHistory."],"^U","^3K","^6","hyperfiddle/history.cljc","^:",26,"^::",["^Q",[["^;9","^;:","^;;"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",4,"^:5",true,"^:=",false,"^:6","^:Y","^7",99,"^:>","^4=","^9",99,"^:?",3,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^;9","^;:","^;;"]]]]],"^T","Positional factory function for hyperfiddle.history/AtomHistory."],"~$back!",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",52,"^8",4,"^9",52,"^:",9,"~:protocol","^27","^T",null,"^P",["^Q",["^:8",["^Q",[["~$this"]]]]]],"^;=","^27","^U","^3P","^6","hyperfiddle/history.cljc","^:",9,"^::",["^Q",[["^;>"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",50,"^:>","^:O","^9",52,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^;>"]]]]],"^T",null],"~$!history",["^ ","^U","^3R","^6","hyperfiddle/history.cljc","^7",263,"^8",1,"^9",263,"^:",16,"^:B",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",263,"^8",8,"^9",263,"^:",16,"^:B",null]],"^:Z",["^ ","^U","^3U","^6","hyperfiddle/history.cljc","^7",404,"^8",1,"^9",404,"^:",14,"^:B","^:Q","^5",["^ ","^6","hyperfiddle/history.cljc","^7",404,"^8",8,"^9",404,"^:",14,"^:B","^:Q"]],"~$HTML5-Navigation-Intents",["^ ","^5",["^ ","^6","hyperfiddle/history.cljc","^7",609,"^8",14,"^9",609,"^:",38,"^P",["^Q",["^:8",["^Q",[["~$history"]]]]],"^:B",["^Q",["^:C","^;@",["^;A"],["^Q",["~$let",["~$!idle",["^Q",["~$atom",false]]],["^Q",["~$try",["^Q",["~$dom/on","^4@","beforeunload",["^Q",["~$e/fn",["~$e"],["^Q",["~$when-not",["^Q",["~$confirm-navigation?","~$e"]],["^Q",["~$.preventDefault","~$e"]]]]]]]],["^Q",["^;F",["^Q",["~$.-document","^4@"]],"click",["^Q",["^;G",["~$e"],["^Q",["~$when",["^Q",["~$and",["^Q",["~$=","A",["^Q",["~$..","~$e","~$-target","~$-nodeName"]]]],["^Q",["~$some?",["^Q",["~$.-hyperfiddle_history_route","~$e"]]]],["^Q",["~$not",["^Q",["~$.-hyperfiddle_history_route_external_nav","~$e"]]]]]],["^Q",["^;J","~$e"]],["^Q",["^;L",["^Q",["^;I","~$e"]],["^Q",["~$case",["^Q",["~$OnBeforeNavigate!."]],["^Q",["~$navigate!","^;A",["^Q",["^;R","~$e"]]]]]]]]]]]]]],["^Q",["^;F","^4@","popstate",["^Q",["^;G",["~$e"],["^Q",["^;B",["^;3",["^Q",["~$clojure.core/deref",["^Q",["~$.-!stack","^;A"]]]],"^;5",["^Q",["^;N","~$e","~$-state","~$-position"]],"^;4",["^Q",["^;X",["^Q",["~$.-!position","^;A"]]]]],["^Q",["~$reset!",["^Q",["^<0","^;A"]],"^;5"]],["^Q",["^;B",["~$delta",["^Q",["^;2","^;3","^;4","^;5"]]],["^Q",["~$cond",["^Q",["^;X","^;C"]],["^Q",["^<1","^;C",false]],["^Q",["^;I","~$e"]],["^Q",["^;V"]],"~:else",["^Q",["~$do",["^Q",["^<1","^;C",true]],["^Q",["^;N","^4@","~$-history",["^Q",["~$go",["^Q",["~$-","^<2"]]]]]]]]]]]]]]]]]],["^Q",["~$catch","^6>","~$_"]]]],["^Q",["~$e/watch","^;C"]]]]]]],"^U","^3Q","^6","hyperfiddle/history.cljc","^:",38,"^8",6,"^:B",["^Q",["^:C","^;@",["^;A"],["^Q",["^;B",["^;C",["^Q",["^;D",false]]],["^Q",["^;E",["^Q",["^;F","^4@","beforeunload",["^Q",["^;G",["~$e"],["^Q",["^;H",["^Q",["^;I","~$e"]],["^Q",["^;J","~$e"]]]]]]]],["^Q",["^;F",["^Q",["^;K","^4@"]],"click",["^Q",["^;G",["~$e"],["^Q",["^;L",["^Q",["^;M",["^Q",["~$=","A",["^Q",["^;N","~$e","^;O","^;P"]]]],["^Q",["^;Q",["^Q",["^;R","~$e"]]]],["^Q",["^;S",["^Q",["^;T","~$e"]]]]]],["^Q",["^;J","~$e"]],["^Q",["^;L",["^Q",["^;I","~$e"]],["^Q",["^;U",["^Q",["^;V"]],["^Q",["^;W","^;A",["^Q",["^;R","~$e"]]]]]]]]]]]]]],["^Q",["^;F","^4@","popstate",["^Q",["^;G",["~$e"],["^Q",["^;B",["^;3",["^Q",["^;X",["^Q",["^;Y","^;A"]]]],"^;5",["^Q",["^;N","~$e","^;Z","^;["]],"^;4",["^Q",["^;X",["^Q",["^<0","^;A"]]]]],["^Q",["^<1",["^Q",["^<0","^;A"]],"^;5"]],["^Q",["^;B",["^<2",["^Q",["^;2","^;3","^;4","^;5"]]],["^Q",["^<3",["^Q",["^;X","^;C"]],["^Q",["^<1","^;C",false]],["^Q",["^;I","~$e"]],["^Q",["^;V"]],"^<4",["^Q",["^<5",["^Q",["^<1","^;C",true]],["^Q",["^;N","^4@","^<6",["^Q",["^<7",["^Q",["~$-","^<2"]]]]]]]]]]]]]]]]]],["^Q",["^<8","^6>","~$_"]]]],["^Q",["^<9","^;C"]]]]]],"^7",609,"^9",609,"^P",["^Q",["^:8",["^Q",[["^;A"]]]]]],"^:F",["^ ","^U","^3E","^6","hyperfiddle/history.cljc","^7",266,"^8",1,"^9",266,"^:",12,"^:B",[],"^5",["^ ","^6","hyperfiddle/history.cljc","^7",266,"^8",8,"^9",266,"^:",12,"^:B",[]]],"~$throttler",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",469,"^8",12,"^9",469,"^:",21,"^P",["^Q",["^:8",["^Q",[["~$rate-ms"]]]]]],"^U","^4A","^6","hyperfiddle/history.cljc","^:",21,"^::",["^Q",[["^<;"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:=",false,"^7",469,"^:>","~$function","^9",469,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^<;"]]]]]],"~$history-entry-uid",["^ ","^U","^46","^6","hyperfiddle/history.cljc","^7",495,"^8",6,"^9",495,"^:",28,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",495,"^8",11,"^9",495,"^:",28],"^:N","^<<"],"~$Link",["^ ","^5",["^ ","^6","hyperfiddle/history.cljc","^7",423,"^8",9,"^9",423,"^:",13,"^P",["^Q",["^:8",["^Q",[["^[","~$Body"]]]]],"^:B",["^Q",["^:C","^<>",["^[","^<?"],["^Q",["^;B",["^:S",["^Q",["~$build-route","^;A","^["]]],["^Q",["~$dom/a",["^Q",["~$dom/props",["^ ","~:hyperfiddle.electric-dom2/href",["^Q",["^:P","^:S"]]]]],["^Q",["~$new","^<?"]],["^Q",["^<D",["^Q",["~$m/relieve",["^ "],["^Q",["~$m/reductions",["^ "],null,["^Q",["~$e/listen>","~$dom/node","click",["^Q",["~$fn",["~$e"],["^Q",["^:R","^:S","~$e"]]]]]]]]]]]]]]]]]]],"^U","^49","^6","hyperfiddle/history.cljc","^:",13,"^8",1,"^:B",["^Q",["^:C","^<>",["^[","^<?"],["^Q",["^;B",["^:S",["^Q",["^<@","^;A","^["]]],["^Q",["^<A",["^Q",["^<B",["^ ","^<C",["^Q",["^:P","^:S"]]]]],["^Q",["^<D","^<?"]],["^Q",["^<D",["^Q",["^<E",["^ "],["^Q",["^<F",["^ "],null,["^Q",["^<G","^<H","click",["^Q",["^<I",["~$e"],["^Q",["^:R","^:S","~$e"]]]]]]]]]]]]]]]]]],"^7",423,"^9",423,"^P",["^Q",["^:8",["^Q",[["^[","^<?"]]]]]],"~$update-in*",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",269,"^8",7,"^9",269,"^:",17,"^P",["^Q",["^:8",["^Q",[["~$m","^:F","~$f","~$&","~$args"]]]]],"^:K",["^ ","^:=",true,"^:L",3,"^:?",3,"^::",[["^Q",["~$m","^:F","~$f","^<K"]]],"^P",["^Q",[["~$m","^:F","~$f","~$&","^<K"]]],"^:<",["^Q",[null]]]],"^U","^4E","^6","hyperfiddle/history.cljc","^:",17,"^:K",["^ ","^:=",true,"^:L",3,"^:?",3,"^::",[["^Q",["~$m","^:F","~$f","^<K"]]],"^P",["^Q",[["~$m","^:F","~$f","~$&","^<K"]]],"^:<",["^Q",[null]]],"^::",[["^Q",["~$m","^:F","~$f","^<K"]]],"^:;",null,"^:L",3,"^:<",["^Q",[null]],"^8",1,"^:=",true,"^:M",[["^ ","^:L",3,"^:=",true,"^:N","^:O"]],"^7",269,"^:>","^:O","^9",269,"^:?",3,"^:@",true,"^P",["^Q",[["~$m","^:F","~$f","~$&","^<K"]]]],"~$-html5-history-get-state",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",597,"^8",12,"^9",597,"^:",36,"^P",["^Q",["^:8",["^Q",[["^;>"]]]]]],"^U","^4:","^6","hyperfiddle/history.cljc","^:",36,"^::",["^Q",[["^;>"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:=",false,"^7",597,"^:>","^:O","^9",597,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^;>"]]]]]],"~$html5-path",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",503,"^8",12,"^9",503,"^:",22,"^P",["^Q",["^:8",["^Q",[[]]]]]],"^U","^44","^6","hyperfiddle/history.cljc","^:",22,"^::",["^Q",[[]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:=",false,"^7",503,"^:>","~$string","^9",503,"^:?",0,"^:@",true,"^P",["^Q",["^:8",["^Q",[[]]]]]],"~$cleanup-on-unmount",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",281,"^8",7,"^9",281,"^:",25,"^P",["^Q",["^:8",["^Q",[["~$h","^:F"]]]]]],"^U","^4B","^6","hyperfiddle/history.cljc","^:",25,"^::",["^Q",[["~$h","^:F"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",281,"^:>",["^M",[null,"~$clj","^:O","^:T"]],"^9",281,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["~$h","^:F"]]]]]],"~$notify-watches",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",88,"^8",7,"^9",88,"^:",21,"^P",["^Q",["^:8",["^Q",[["^;>",["~$oldstate","~$newstate"]]]]]]],"^U","^43","^6","hyperfiddle/history.cljc","^:",21,"^::",["^Q",[["^;>","~$p__35539"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",88,"^:>","^:T","^9",88,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^;>",["^<R","^<S"]]]]]]],"^;I",["^ ","^5",["^ ","^6","hyperfiddle/history.cljc","^7",600,"^8",13,"^9",600,"^:",32,"^T","A predicate called on user navigation intent. If false, the current navigation intent is prevented.\n        Called during DOM event bubbling phase, it must be synchronous and therefore must be bound to a clojure function.","^:B",["^Q",["^<I",["~$_dom-event"],true]]],"^U","^2@","^6","hyperfiddle/history.cljc","^:",32,"^8",6,"^:B",["^Q",["^<I",["^<U"],true]],"^7",600,"^9",600,"^T","A predicate called on user navigation intent. If false, the current navigation intent is prevented.\n        Called during DOM event bubbling phase, it must be synchronous and therefore must be bound to a clojure function."],"~$html5-history",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",570,"^8",12,"^9",570,"^:",25,"^P",["^Q",["^:8",["^Q",[["^:P","^:Z"]]]]]],"^U","^2C","^6","hyperfiddle/history.cljc","^:",25,"^::",["^Q",[["^:P","^:Z"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:=",false,"^7",570,"^:>","^30","^9",570,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^:P","^:Z"]]]]]],"~$AtomHistory",["^ ","~:num-fields",3,"~:protocols",["^M",["~$cljs.core/IRecord","~$cljs.core/IWatchable","^22","~$cljs.core/IKVReduce","~$cljs.core/IEquiv","~$cljs.core/IHash","~$cljs.core/ICollection","~$cljs.core/IReset","~$cljs.core/ISwap","~$cljs.core/ICounted","~$cljs.core/ISeqable","~$cljs.core/IMeta","~$cljs.core/ICloneable","~$cljs.core/IDeref","~$cljs.core/IPrintWithWriter","~$cljs.core/IIterable","~$cljs.core/IWithMeta","~$cljs.core/IAssociative","~$cljs.core/IMap","~$cljs.core/ILookup"]],"^U","^4=","^6","hyperfiddle/history.cljc","^:",26,"~:type",true,"^8",15,"^:5",true,"^7",99,"~:record",true,"^9",99,"^:N","^<<","~:skip-protocol-flag",["^M",["^<Z","^<[","^22","^=0","^=1","^=2","^=3","^=4","^=5","^=6","^=7","^=8","^=9","^=:","^=;","^=<","^==","^=>","^=?","^=@"]]],"~$replace-state!",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",54,"^8",4,"^9",54,"^:",18,"^;=","^27","^T",null,"^P",["^Q",["^:8",["^Q",[["^;>","~$new-state"]]]]]],"^;=","^27","^U","^4<","^6","hyperfiddle/history.cljc","^:",18,"^::",["^Q",[["^;>","^=E"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",50,"^:>","^:O","^9",54,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^;>","^=E"]]]]],"^T",null],"^<@",["^ ","^U","^1Y","^6","hyperfiddle/history.cljc","^7",408,"^8",1,"^9",408,"^:",19,"^:B",["^ "],"^5",["^ ","^6","hyperfiddle/history.cljc","^7",408,"^8",8,"^9",408,"^:",19,"^:B",["^ "]]],"^;A",["^ ","^U","^1[","^6","hyperfiddle/history.cljc","^7",264,"^8",1,"^9",264,"^:",15,"^:B","~:hyperfiddle.history/unset","^5",["^ ","^6","hyperfiddle/history.cljc","^7",264,"^8",8,"^9",264,"^:",15,"^:B","^=F"]],"^;W",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",51,"^8",4,"^9",51,"^:",13,"^;=","^27","^T",null,"^P",["^Q",["^:8",["^Q",[["^;>","^["]]]]]],"^;=","^27","^U","^4D","^6","hyperfiddle/history.cljc","^:",13,"^::",["^Q",[["^;>","^["]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",50,"^:>","^:O","^9",51,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^;>","^["]]]]],"^T",null],"^[",["^ ","^U","^2X","^6","hyperfiddle/history.cljc","^7",265,"^8",1,"^9",265,"^:",13,"^:B","^=F","^5",["^ ","^6","hyperfiddle/history.cljc","^7",265,"^8",8,"^9",265,"^:",13,"^:B","^=F"]],"~$ProxyHistory",["^ ","^<X",2,"^<Y",["^M",["^<Z","^<[","^22","^=0","^=1","^=2","^=3","^=4","^=5","^=6","^=7","^=8","^=9","^=:","^=;","^=<","^==","^=>","^=?","^=@"]],"^U","^20","^6","hyperfiddle/history.cljc","^:",27,"^=A",true,"^8",15,"^:5",true,"^7",170,"^=B",true,"^9",170,"^:N","^<<","^=C",["^M",["^<Z","^<[","^22","^=0","^=1","^=2","^=3","^=4","^=5","^=6","^=7","^=8","^=9","^=:","^=;","^=<","^==","^=>","^=?","^=@"]]],"~$history?",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",254,"^8",7,"^9",254,"^:",15,"^P",["^Q",["^:8",["^Q",[["~$h"]]]]]],"^U","^2G","^6","hyperfiddle/history.cljc","^:",15,"^::",["^Q",[["~$h"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",254,"^:>","~$boolean","^9",254,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["~$h"]]]]]],"~$html5-location",["^ ","^U","^2I","^6","hyperfiddle/history.cljc","^7",501,"^8",6,"^9",501,"^:",25,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",501,"^8",11,"^9",501,"^:",25],"^:N","^<<"],"~$HTML5History",["^ ","^<X",5,"^<Y",["^M",["^<Z","^<[","^22","^27","^=0","^=1","^=2","^=3","^=4","^=5","^=6","^=7","^=8","^=9","^=:","^=;","^=<","^==","^=>","^=?","^=@"]],"^U","^30","^6","hyperfiddle/history.cljc","^:",29,"^=A",true,"^8",17,"^:5",true,"^7",514,"^=B",true,"^9",514,"^:N","^<<","^=C",["^M",["^<Z","^<[","^22","^=0","^=1","^=2","^=3","^=4","^=5","^=6","^=7","^=8","^=9","^=:","^=;","^=<","^==","^=>","^=?","^=@"]]],"~$absolute",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",456,"^8",7,"^9",456,"^:",15,"^P",["^Q",["^:8",["^Q",[["^:F"]]]]]],"^U","^21","^6","hyperfiddle/history.cljc","^:",15,"^::",["^Q",[["^:F"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",456,"^:>","^<N","^9",456,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^:F"]]]]]],"~$forward!",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",53,"^8",4,"^9",53,"^:",12,"^;=","^27","^T",null,"^P",["^Q",["^:8",["^Q",[["^;>"]]]]]],"^;=","^27","^U","^28","^6","hyperfiddle/history.cljc","^:",12,"^::",["^Q",[["^;>"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",50,"^:>","^:O","^9",53,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^;>"]]]]],"^T",null],"~$check-route!",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",274,"^8",7,"^9",274,"^:",19,"^P",["^Q",["^:8",["^Q",[["^["]]]]]],"^U","^2R","^6","hyperfiddle/history.cljc","^:",19,"^::",["^Q",[["^["]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",274,"^:>","^:T","^9",274,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^["]]]]]],"~$->ProxyHistory",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^:",27,"^8",15,"^:5",true,"^:6","^:Y","^7",170,"^9",170,"^P",["^Q",["^:8",["^Q",[["^:I","^;9"]]]]],"^T","Positional factory function for hyperfiddle.history/ProxyHistory."],"^U","^2T","^6","hyperfiddle/history.cljc","^:",27,"^::",["^Q",[["^:I","^;9"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",4,"^:5",true,"^:=",false,"^:6","^:Y","^7",170,"^:>","^20","^9",170,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^:I","^;9"]]]]],"^T","Positional factory function for hyperfiddle.history/ProxyHistory."],"~$atom-history",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",138,"^8",7,"^9",138,"^:",19,"^P",["^Q",["^:8",["^Q",[[],["^:J"],["^:J","^;;"]]]]],"^T","Return a new IHistory instance backed by an atom.\n  Initial history state can be provided with `initial-state`.\n  Default history size is unbounded and can be constrained to `max-size` elements in a FIFO way.\n  A negative value or 0 has no effect.","^:K",["^ ","^:=",false,"^:L",2,"^:?",2,"^::",[[],["^:J"],["^:J","^;;"]],"^P",["^Q",[[],["^:J"],["^:J","^;;"]]],"^:<",["^Q",[null,null,null]]]],"^U","^2>","^6","hyperfiddle/history.cljc","^:",19,"^:K",["^ ","^:=",false,"^:L",2,"^:?",2,"^::",[[],["^:J"],["^:J","^;;"]],"^P",["^Q",[[],["^:J"],["^:J","^;;"]]],"^:<",["^Q",[null,null,null]]],"^::",[[],["^:J"],["^:J","^;;"]],"^:;",null,"^:L",2,"^:<",["^Q",[null,null,null]],"^8",1,"^:=",false,"^:M",[["^ ","^:L",0,"^:=",false,"^:N","^:O"],["^ ","^:L",1,"^:=",false,"^:N","^:O"],["^ ","^:L",2,"^:=",false,"^:N","^4="]],"^7",138,"^9",138,"^:?",2,"^:@",true,"^P",["^Q",[[],["^:J"],["^:J","^;;"]]],"^T","Return a new IHistory instance backed by an atom.\n  Initial history state can be provided with `initial-state`.\n  Default history size is unbounded and can be constrained to `max-size` elements in a FIFO way.\n  A negative value or 0 has no effect."],"~$updatef",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",58,"^8",7,"^9",58,"^:",14,"^P",["^Q",["^:8",["^Q",[[["^;A","~$idx"],"~$f"]]]]]],"^U","^31","^6","hyperfiddle/history.cljc","^:",14,"^::",["^Q",[["~$p__35532","~$f"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",58,"^:>","~$cljs.core/IVector","^9",58,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[[["^;A","^=R"],"~$f"]]]]]],"~$IHistory",["^ ","^5",["^ ","~:protocol-symbol",true,"^6","hyperfiddle/history.cljc","^:",22,"^8",14,"^7",50,"~:protocol-info",["^ ","^:M",["^ ","^;W",[["^;>","^["]],"^;<",[["^;>"]],"^=M",[["^;>"]],"^=D",[["^;>","^=E"]]]],"^9",50,"~:sigs",["^ ","~:navigate!",["^ ","^U","^;W","^P",["^Q",[["^;>","^["]]],"^T",null],"~:back!",["^ ","^U","^;<","^P",["^Q",[["^;>"]]],"^T",null],"~:forward!",["^ ","^U","^=M","^P",["^Q",[["^;>"]]],"^T",null],"~:replace-state!",["^ ","^U","^=D","^P",["^Q",[["^;>","^=E"]]],"^T",null]],"~:jsdoc",["^Q",["@interface"]]],"^=V",true,"^U","^27","^6","hyperfiddle/history.cljc","^:",22,"^8",1,"^7",50,"^=W",["^ ","^:M",["^ ","^;W",[["^;>","^["]],"^;<",[["^;>"]],"^=M",[["^;>"]],"^=D",[["^;>","^=E"]]]],"~:info",null,"^9",50,"^:N","^:O","^=X",["^ ","^=Y",["^ ","^U","^;W","^P",["^Q",[["^;>","^["]]],"^T",null],"^=Z",["^ ","^U","^;<","^P",["^Q",[["^;>"]]],"^T",null],"^=[",["^ ","^U","^=M","^P",["^Q",[["^;>"]]],"^T",null],"^>0",["^ ","^U","^=D","^P",["^Q",[["^;>","^=E"]]],"^T",null]],"~:impls",["^M",["^20","^30","^4="]],"^>1",["^Q",["@interface"]]],"~$replaceState!",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",487,"^8",14,"^9",487,"^:",27,"^P",["^Q",["^:8",["^Q",[["^:F"]]]]]],"^U","^2L","^6","hyperfiddle/history.cljc","^:",27,"^::",["^Q",[["^:F"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",8,"^:=",false,"^7",487,"^:>","^:O","^9",487,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^:F"]]]]]],"~$HTML5-History",["^ ","^5",["^ ","^6","hyperfiddle/history.cljc","^7",648,"^8",14,"^9",648,"^:",27,"^P",["^Q",["^:8",["^Q",[[]]]]],"^:B",["^Q",["^:C","^>5",[],["^Q",["^;B",["^;A",["^Q",["^<V","^:P","^:Z"]],"~$decode'","^:Z"],["^Q",["^;H",["^Q",["~$HTML5-Navigation-Intents.","^;A"]],["^Q",["^<D",["^Q",["~$m/observe",["^Q",["^<I",["~$!"],["^Q",["~$!",null]],["^Q",["^;B",["~$f",["^Q",["^<I",["~$_e"],["^Q",["^<1",["^Q",["^<L","^;A"]],["^Q",["^>6",["^Q",["^<M"]]]]]]]]],["^Q",["~$f",null]],["^Q",["~$.addEventListener","^4@","popstate","~$f"]],["^Q",["~$fn*",[],["^Q",["~$.removeEventListener","^4@","popstate","~$f"]]]]]]]]]]]]]],"^;A"]]]]],"^U","^2Z","^6","hyperfiddle/history.cljc","^:",27,"^8",6,"^:B",["^Q",["^:C","^>5",[],["^Q",["^;B",["^;A",["^Q",["^<V","^:P","^:Z"]],"^>6","^:Z"],["^Q",["^;H",["^Q",["^>7","^;A"]],["^Q",["^<D",["^Q",["^>8",["^Q",["^<I",["~$!"],["^Q",["~$!",null]],["^Q",["^;B",["~$f",["^Q",["^<I",["^>9"],["^Q",["^<1",["^Q",["^<L","^;A"]],["^Q",["^>6",["^Q",["^<M"]]]]]]]]],["^Q",["~$f",null]],["^Q",["^>:","^4@","popstate","~$f"]],["^Q",["^>;",[],["^Q",["^><","^4@","popstate","~$f"]]]]]]]]]]]]]],"^;A"]]]],"^7",648,"^9",648,"^P",["^Q",["^:8",["^Q",[[]]]]]],"~$index-of",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",507,"^8",13,"^9",507,"^:",21,"~:private",true,"^P",["^Q",["^:8",["^Q",[["~$xs","~$val"]]]]]],"^>>",true,"^U","^3O","^6","hyperfiddle/history.cljc","^:",21,"^::",["^Q",[["^>?","^>@"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:=",false,"^7",507,"^:>","^;6","^9",507,"^:?",2,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^>?","^>@"]]]]]],"~$map->HTML5History",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^:",29,"^8",17,"^:5",true,"^:6","^:7","^7",514,"^9",514,"^P",["^Q",["^:8",["^Q",[["~$G__35642"]]]]],"^T","Factory function for hyperfiddle.history/HTML5History, taking a map of keywords to field values."],"^U","^33","^6","hyperfiddle/history.cljc","^:",29,"^::",["^Q",[["^>B"]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",6,"^:5",true,"^:=",false,"^:6","^:7","^7",514,"^:>","^30","^9",514,"^:?",1,"^:@",true,"^P",["^Q",["^:8",["^Q",[["^>B"]]]]],"^T","Factory function for hyperfiddle.history/HTML5History, taking a map of keywords to field values."],"~$default-platform-history",["^ ","^:4",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",277,"^8",7,"^9",277,"^:",31,"^P",["^Q",["^:8",["^Q",[[]]]]]],"^U","^36","^6","hyperfiddle/history.cljc","^:",31,"^::",["^Q",[[]]],"^:;",null,"^:<",["^Q",[null,null]],"^8",1,"^:=",false,"^7",277,"^:>","^:O","^9",277,"^:?",0,"^:@",true,"^P",["^Q",["^:8",["^Q",[[]]]]]],"~$swap-route!",["^ ","^U","^32","^6","hyperfiddle/history.cljc","^7",267,"^8",1,"^9",267,"^:",19,"^:B",null,"^5",["^ ","^6","hyperfiddle/history.cljc","^7",267,"^8",8,"^9",267,"^:",19,"^:B",null]]],"^1A",["^ ","^15","^15","^16","^15","^17","^17","^H","^H","^E","^E","~$m","^17","^J","^J","^19","^J","~$e","^1:","^1:","^1:","^X","^X"],"~:cljs.analyzer/constants",["^ ","^1?",["^M",["~:watches","^:P","~:!state","~:parent","^<4","^:Z","^;:","~:!stack","~:!position","^:[","^:I","~:hyperfiddle.history/stack","~:max-size","~:state","^;0","^;1","^;;","^;9","~$IAtom","^:N","^=U","~:encode","~:decode"]],"~:order",["^>F","^>M","^>L","^;9","^;:","^;;","^>H","^:I","^:N","^=U","^>N","^<4","^>O","^>P","^>G","^>I","^>J","^:P","^:Z","^:[","^;0","^;1","^>K"]],"^1H",["^ ","^1@",["^M",[]],"^1A",["^M",[]]],"^1I",["^ "],"^1J",["^18","^E","^H","^J","^1:","^15","^17","^1;","^1="]],"^W","^X","~:ns-specs",["^ "],"~:ns-spec-vars",["^M",[]],"~:compiler-options",["^4M",[["^>T","~:static-fns"],true,["^>T","~:shadow-tweaks"],null,["^>T","~:source-map-inline"],null,["^>T","~:elide-asserts"],false,["^>T","~:optimize-constants"],null,["^>T","^1O"],null,["^>T","~:external-config"],null,["^>T","~:tooling-config"],null,["^>T","~:emit-constants"],null,["^>T","~:load-tests"],null,["^>T","~:form-size-threshold"],null,["^>T","~:global-goog-object&array"],null,["^>T","~:data-readers"],null,["^>T","~:infer-externs"],"~:auto",["^>T","^1Q"],null,["~:js-options","~:js-provider"],"~:shadow",["~:mode"],"~:dev",["^>T","~:fn-invoke-direct"],null,["^>T","~:source-map"],"/dev/null"]]]